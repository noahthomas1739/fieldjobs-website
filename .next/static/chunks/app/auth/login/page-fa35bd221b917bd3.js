(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{3494:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(3579),s=a(5695),l=a(2115);let n=()=>{let[e,t]=(0,l.useState)(null),[a,n]=(0,l.useState)(!0),o=(0,s.useRouter)(),i=(0,r.createClientComponentClient)();return(0,l.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:a}=await i.auth.getUser();console.log("Auth check - Full user object:",e),console.log("User metadata:",null==e?void 0:e.user_metadata),t(e),n(!1)}catch(e){console.error("Auth error:",e),n(!1)}})();let{data:{subscription:e}}=i.auth.onAuthStateChange(async(e,a)=>{var r,s;console.log("Auth state changed:",e),console.log("Session user metadata:",null==a||null==(r=a.user)?void 0:r.user_metadata),t(null!=(s=null==a?void 0:a.user)?s:null),n(!1),"SIGNED_OUT"===e&&o.push("/auth/login")});return()=>e.unsubscribe()},[o,i]),{user:e,loading:a,signInWithGoogle:async()=>{try{console.log("Starting Google sign in...");let{data:e,error:t}=await i.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/account-type")}});if(t)throw console.error("Google sign in error:",t),t;return console.log("Google sign in initiated:",e),{data:e,error:null}}catch(e){return console.error("Google sign in failed:",e),{data:null,error:e}}},signInWithEmail:async(e,t)=>{let{data:a,error:r}=await i.auth.signInWithPassword({email:e,password:t});return{data:a,error:r}},signOut:async()=>{await i.auth.signOut(),o.push("/auth/login")},updateUserMetadata:async e=>{try{let{data:a,error:r}=await i.auth.updateUser({data:e});if(r)throw r;let{data:{user:s}}=await i.auth.getUser();return t(s),{data:a,error:null}}catch(e){return console.error("Error updating user metadata:",e),{data:null,error:e}}}}}},3943:(e,t,a)=>{Promise.resolve().then(a.bind(a,9598))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},9598:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),s=a(2115),l=a(3494),n=a(5695),o=a(6874),i=a.n(o),c=a(3579);function u(){return(0,r.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}function d(){let[e,t]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[g,m]=(0,s.useState)(!1),{signInWithEmail:x,signInWithGoogle:p}=(0,l.A)(),y=(0,n.useRouter)();(0,c.createClientComponentClient)();let f=async t=>{t.preventDefault(),h(""),m(!0);try{let{data:t,error:s}=await x(e,a);if(s)h(s.message);else if(null==t?void 0:t.user){var r;console.log("Login successful, checking account type..."),(null==(r=t.user.user_metadata)?void 0:r.account_type)?"employer"===t.user.user_metadata.account_type?y.push("/employer"):y.push("/dashboard"):y.push("/auth/account-type")}}catch(e){h("An unexpected error occurred"),console.error("Login error:",e)}finally{m(!1)}},v=async()=>{h(""),m(!0);try{await p()}catch(e){h((null==e?void 0:e.message)||"Google login failed"),console.error("Google login error:",e)}finally{m(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Sign in to your account"})]}),(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[d&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:d}),(0,r.jsxs)("button",{onClick:v,disabled:g,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),g?"Signing in...":"Continue with Google"]}),(0,r.jsxs)("button",{disabled:!0,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-gray-400 text-white rounded-lg cursor-not-allowed mb-6",children:[(0,r.jsx)(u,{}),"LinkedIn Login Coming Soon"]}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:a,onChange:e=>o(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"••••••••"})]}),(0,r.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Signing in...":"Sign In"})]}),(0,r.jsxs)("div",{className:"mt-6 text-center space-y-2",children:[(0,r.jsx)(i(),{href:"/auth/forgot-password",className:"text-sm text-orange-600 hover:text-orange-700",children:"Forgot your password?"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(i(),{href:"/auth/signup",className:"text-orange-600 hover:text-orange-700 font-medium",children:"Sign up"})]})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3579,6874,8441,1684,7358],()=>t(3943)),_N_E=e.O()}]);