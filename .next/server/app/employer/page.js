(()=>{var e={};e.id=6282,e.ids=[6282],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7588:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(5745),a=t(16189),i=t(43210);let l=()=>{let[e,s]=(0,i.useState)(null),[t,l]=(0,i.useState)(!0),n=(0,a.useRouter)(),o=(0,r.createClientComponentClient)();return(0,i.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:t}=await o.auth.getUser();console.log("Auth check - Full user object:",e),console.log("User metadata:",e?.user_metadata),s(e),l(!1)}catch(e){console.error("Auth error:",e),l(!1)}})();let{data:{subscription:e}}=o.auth.onAuthStateChange(async(e,t)=>{console.log("Auth state changed:",e),console.log("Session user metadata:",t?.user?.user_metadata),s(t?.user??null),l(!1),"SIGNED_OUT"===e&&n.push("/auth/login")});return()=>e.unsubscribe()},[n,o]),{user:e,loading:t,signInWithGoogle:async()=>{try{console.log("Starting Google sign in...");let{data:e,error:s}=await o.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/account-type`}});if(s)throw console.error("Google sign in error:",s),s;return console.log("Google sign in initiated:",e),{data:e,error:null}}catch(e){return console.error("Google sign in failed:",e),{data:null,error:e}}},signInWithEmail:async(e,s)=>{let{data:t,error:r}=await o.auth.signInWithPassword({email:e,password:s});return{data:t,error:r}},signOut:async()=>{await o.auth.signOut(),n.push("/auth/login")},updateUserMetadata:async e=>{try{let{data:t,error:r}=await o.auth.updateUser({data:e});if(r)throw r;let{data:{user:a}}=await o.auth.getUser();return s(a),{data:t,error:null}}catch(e){return console.error("Error updating user metadata:",e),{data:null,error:e}}}}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16189:(e,s,t)=>{"use strict";var r=t(65773);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22124:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,79167,23))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(60687),a=t(7588),i=t(43210),l=t(16189),n=t(85814),o=t.n(n);let d=({user:e,subscription:s,onSubscriptionUpdate:t})=>{let[a,l]=(0,i.useState)("overview"),[n,o]=(0,i.useState)(!1),[d,c]=(0,i.useState)([]),[x,m]=(0,i.useState)(!1),[h,u]=(0,i.useState)(!1),[g,p]=(0,i.useState)([]);(0,i.useEffect)(()=>{"billing"===a&&s?.stripe_customer_id&&b(),e?.id&&j()},[a,s,e?.id]);let b=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_billing_history",userId:e.id})}),t=await s.json();t.success&&c(t.billingHistory)}catch(e){console.error("Error loading billing history:",e)}finally{o(!1)}},j=async()=>{try{let s=await fetch(`/api/subscription-schedule-status?userId=${e.id}`),t=await s.json();t.success&&t.scheduledChanges&&(p(t.scheduledChanges),console.log("\uD83D\uDCC5 Loaded scheduled changes:",t.scheduledChanges))}catch(e){console.error("Error loading scheduled changes:",e)}},y=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"cancel",userId:e.id})}),r=await s.json();r.success?(alert(`âœ… ${r.message}`),t(),m(!1)):alert("Error cancelling subscription. Please try again.")}catch(e){console.error("Error cancelling subscription:",e),alert("Error cancelling subscription. Please try again.")}finally{o(!1)}},f=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reactivate",userId:e.id})});(await s.json()).success?(alert("âœ… Subscription reactivated successfully!"),t()):alert("Error reactivating subscription. Please try again.")}catch(e){console.error("Error reactivating subscription:",e),alert("Error reactivating subscription. Please try again.")}finally{o(!1)}},v=async(s,r)=>{try{o(!0);let a=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"upgrade_immediate",userId:e.id,newPriceId:s,newPlanType:r.toLowerCase()})});(await a.json()).success?(alert(`âœ… Successfully upgraded to ${r} plan!`),t(),j(),u(!1)):alert("Error upgrading subscription. Please try again.")}catch(e){console.error("Error upgrading subscription:",e),alert("Error upgrading subscription. Please try again.")}finally{o(!1)}},N=async(s,r)=>{try{o(!0);let a=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"downgrade_end_cycle",userId:e.id,newPriceId:s,newPlanType:r.toLowerCase()})}),i=await a.json();i.success?(alert(`âœ… ${i.message}`),t(),j()):alert(`Error scheduling downgrade: ${i.error||"Please try again."}`)}catch(e){console.error("Error scheduling downgrade:",e),alert("Error scheduling downgrade. Please try again.")}finally{o(!1)}},w=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_billing_portal",userId:e.id})}),t=await s.json();t.success?window.open(t.url,"_blank"):alert("Error accessing billing portal. Please try again.")}catch(e){console.error("Error accessing billing portal:",e),alert("Error accessing billing portal. Please try again.")}finally{o(!1)}},P=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),C=e=>`$${(e/100).toFixed(2)}`,_=()=>s?.current_period_end?P(s.current_period_end):"N/A",S=s?.status==="cancelled"||s?.cancelled_at;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Subscription Management"}),(0,r.jsx)("div",{className:"flex gap-2 mb-6 border-b",children:[{id:"overview",label:"Overview"},{id:"plans",label:"Change Plan"},{id:"billing",label:"Billing History"}].map(e=>(0,r.jsx)("button",{onClick:()=>l(e.id),className:`px-4 py-2 font-medium transition-colors ${a===e.id?"text-orange-500 border-b-2 border-orange-500":"text-gray-500 hover:text-gray-700"}`,children:e.label},e.id))}),"overview"===a&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:`p-6 rounded-lg ${S?"bg-red-50 border border-red-200":"bg-gradient-to-r from-orange-500 to-orange-600 text-white"}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:`text-xl font-bold ${S?"text-red-800":"text-white"}`,children:[(e=>({free:"Free Account",starter:"Starter Plan",professional:"Professional Plan",enterprise:"Enterprise Plan"})[e]||e)(s?.plan_type||"free"),S&&(0,r.jsx)("span",{className:"ml-2 text-sm bg-red-600 text-white px-2 py-1 rounded-full",children:"Cancelled"})]}),(0,r.jsx)("div",{className:`${S?"text-red-700":"text-white"}`,children:s?.plan_type==="free"?"Upgrade to unlock premium features":S?`Active until ${_()}`:`${C(s?.price||0)}/month â€¢ Next billing: ${_()}`})]}),s?.plan_type!=="free"&&(0,r.jsx)("div",{className:"flex gap-2",children:S?(0,r.jsx)("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Reactivate"}):(0,r.jsx)("button",{onClick:()=>u(!0),className:"bg-white text-orange-500 hover:bg-gray-50 px-4 py-2 rounded-lg",children:"Change Plan"})})]})}),g.length>0&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCC5 Upcoming Changes"}),g.map((e,s)=>(0,r.jsxs)("div",{className:"text-blue-700",children:["Your plan will change from ",(0,r.jsx)("strong",{children:e.currentPlan})," to ",(0,r.jsx)("strong",{children:e.newPlan})," on"," ",(0,r.jsx)("strong",{children:P(e.effectiveDate)})]},e.id||s))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:s?.active_jobs_limit===999999?"âˆž":s?.active_jobs_limit||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Job Limit"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:s?.credits===999999?"âˆž":s?.credits||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Resume Credits"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:s?.plan_type==="free"?"30 days":"âˆž"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Job Duration"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:w,disabled:n||s?.plan_type==="free",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Manage Payment Methods"}),(0,r.jsx)("button",{onClick:()=>l("billing"),disabled:s?.plan_type==="free",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"View Billing History"}),(0,r.jsx)("button",{onClick:()=>l("plans"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:s?.plan_type==="free"?"Upgrade Plan":"Change Plan"})]})]})]}),"plans"===a&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:"Choose Your Plan"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:`border-2 rounded-lg p-6 ${s?.plan_type==="starter"?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold mb-2",children:"Starter"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:"$249"}),(0,r.jsx)("div",{className:"text-gray-600 mb-4",children:"per month"}),(0,r.jsxs)("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ“ 5 active job postings"}),(0,r.jsx)("li",{children:"âœ“ Jobs stay active indefinitely"}),(0,r.jsx)("li",{children:"âœ“ 10 resume credits"}),(0,r.jsx)("li",{children:"âœ“ Standard support"})]}),s?.plan_type==="starter"?(0,r.jsx)("div",{className:"bg-orange-500 text-white py-2 px-4 rounded-lg",children:"Current Plan"}):s?.plan_type==="free"?(0,r.jsx)("button",{onClick:()=>v("price_1Rk5wTRC3IxXIgoOJXQeNds5","Starter"),disabled:n,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg disabled:opacity-50",children:n?"Processing...":"Upgrade Now"}):(0,r.jsx)("button",{onClick:()=>N("price_1Rk5wTRC3IxXIgoOJXQeNds5","Starter"),disabled:n,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg disabled:opacity-50",children:n?"Processing...":"Downgrade"})]})}),(0,r.jsxs)("div",{className:`border-2 rounded-lg p-6 relative ${s?.plan_type==="professional"?"border-orange-500 bg-orange-50":"border-orange-500"}`,children:[s?.plan_type!=="professional"&&(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-4 py-1 rounded-full text-sm font-bold",children:"MOST POPULAR"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold mb-2",children:"Professional"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:"$599"}),(0,r.jsx)("div",{className:"text-gray-600 mb-4",children:"per month"}),(0,r.jsxs)("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ“ 15 active job postings"}),(0,r.jsx)("li",{children:"âœ“ Jobs stay active indefinitely"}),(0,r.jsx)("li",{children:"âœ“ 25 resume credits"}),(0,r.jsx)("li",{children:"âœ“ Priority support"}),(0,r.jsx)("li",{children:"âœ“ Featured job placement"})]}),s?.plan_type==="professional"?(0,r.jsx)("div",{className:"bg-orange-500 text-white py-2 px-4 rounded-lg",children:"Current Plan"}):(0,r.jsx)("button",{onClick:()=>s?.plan_type==="enterprise"?N("price_1Rk5xGRC3IxXIgoOKFM0DRZd","Professional"):v("price_1Rk5xGRC3IxXIgoOKFM0DRZd","Professional"),disabled:n,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg disabled:opacity-50",children:n?"Processing...":s?.plan_type==="enterprise"?"Downgrade":"Upgrade Now"})]})]}),(0,r.jsx)("div",{className:`border-2 rounded-lg p-6 ${s?.plan_type==="enterprise"?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold mb-2",children:"Enterprise"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:"$1,199"}),(0,r.jsx)("div",{className:"text-gray-600 mb-4",children:"per month"}),(0,r.jsxs)("ul",{className:"text-left space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ“ Unlimited job postings"}),(0,r.jsx)("li",{children:"âœ“ Jobs stay active indefinitely"}),(0,r.jsx)("li",{children:"âœ“ Unlimited resume access"}),(0,r.jsx)("li",{children:"âœ“ Dedicated account manager"}),(0,r.jsx)("li",{children:"âœ“ Custom integrations"})]}),s?.plan_type==="enterprise"?(0,r.jsx)("div",{className:"bg-orange-500 text-white py-2 px-4 rounded-lg",children:"Current Plan"}):(0,r.jsx)("button",{onClick:()=>v("price_1Rk5xzRC3IxXIgoO9EtZ0zny","Enterprise"),disabled:n,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg disabled:opacity-50",children:n?"Processing...":"Upgrade Now"})]})})]})]}),"billing"===a&&(0,r.jsxs)("div",{className:"space-y-6",children:[s?.plan_type!=="free"&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Subscription Management"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:w,disabled:n||s?.plan_type==="free",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Manage Payment Methods"}),S?(0,r.jsx)("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Reactivate Subscription"}):(0,r.jsx)("button",{onClick:()=>m(!0),disabled:n,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:"Cancel Subscription"})]}),S&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-red-700 text-sm",children:["âš ï¸ Your subscription is cancelled and will end on ",_(),". You can reactivate it before then to continue your plan."]})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:"Billing History"}),(0,r.jsx)("button",{onClick:b,disabled:n,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Loading...":"Refresh"})]}),0===d.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No billing history available"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-gray-200 rounded-lg",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Date"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Description"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Amount"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Invoice"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:d.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:P(e.date)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.description}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:C(e.amount)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"paid"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm",children:e.invoiceUrl&&(0,r.jsx)("a",{href:e.invoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"View Invoice"})})]},e.id))})]})})]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Cancel Subscription"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to cancel your subscription? Your account will remain active until the end of your current billing period (",_(),")."]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Keep Subscription"}),(0,r.jsx)("button",{onClick:y,disabled:n,className:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Yes, Cancel"})]})]})})]})};function c(){let{user:e,loading:s}=(0,a.A)();(0,l.useRouter)(),(0,l.useSearchParams)();let[n,c]=(0,i.useState)("overview"),[x,m]=(0,i.useState)(!0),[h,u]=(0,i.useState)(!0),[g,p]=(0,i.useState)([]),[b,j]=(0,i.useState)([]),[y,f]=(0,i.useState)({}),[v,N]=(0,i.useState)({}),[w,P]=(0,i.useState)({tier:"free",credits:0,activeJobs:0,stripeSubscriptionId:null}),[C,_]=(0,i.useState)(!1),[S,E]=(0,i.useState)(!0),[k,I]=(0,i.useState)(!1),[R,D]=(0,i.useState)([]),[T,J]=(0,i.useState)(!1),[A,U]=(0,i.useState)(null),[$,O]=(0,i.useState)({loading:!0,hasActiveSubscription:!1,currentPlan:"free",canPurchaseNew:!0}),[F,L]=(0,i.useState)(!1),[q,B]=(0,i.useState)(!1),[M,G]=(0,i.useState)(!1),[X,Y]=(0,i.useState)(null),[z,H]=(0,i.useState)(null),[V,W]=(0,i.useState)(""),[K,Q]=(0,i.useState)(null),[Z,ee]=(0,i.useState)([]),[es,et]=(0,i.useState)({keywords:"",location:"",classification:"",specialization:"",minExperience:"",maxExperience:"",industries:"",clearance:"",availableBy:"",minRate:"",maxRate:""}),[er,ea]=(0,i.useState)(!1),[ei,el]=(0,i.useState)(0),[en,eo]=(0,i.useState)(new Set),[ed,ec]=(0,i.useState)({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""}),[ex,em]=(0,i.useState)(""),[eh,eu]=(0,i.useState)(""),[eg,ep]=(0,i.useState)(!1),[eb,ej]=(0,i.useState)(!1),ey=async s=>{if(s.preventDefault(),e?.id)try{m(!0);let s=await fetch("/api/free-job/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,jobData:ed})}),t=await s.json();t.success?(alert("\uD83C\uDF89 "+t.message),await eA(),_(!1),I(!1),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})):alert("Error: "+t.error)}catch(e){console.error("Error creating free job:",e),alert("Error creating free job")}finally{m(!1)}},ef=async e=>{try{A&&await fetch("/api/free-job/upgrade-prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promptId:A.id,action:e})}),J(!1),U(null),"upgrade"===e&&c("billing")}catch(e){console.error("Error handling prompt action:",e)}},ev=e=>({free:0,starter:1,growth:2,professional:3,enterprise:4})[e]||0,eN=async(s,t)=>{if(!e?.id)return void alert("Please log in to upgrade your subscription.");try{if(m(!0),!w?.stripeSubscriptionId)return void alert("No active subscription found. Please contact support.");let r=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"upgrade_immediate",userId:e.id,newPriceId:s,newPlanType:t,subscriptionId:w.stripeSubscriptionId})}),a=await r.json();if(!r.ok)throw Error(a.error||`HTTP ${r.status}`);a.success?(alert(a.message||"Upgrade successful!"),await eI(),window.location.reload()):alert(a.error||"Upgrade failed")}catch(e){console.error("Upgrade error:",e),alert("Upgrade failed: "+e.message)}finally{m(!1)}},ew=async(s,t)=>{if(!e?.id)return void alert("Please log in to manage your subscription.");try{if(!confirm(`You'll keep your current features until your next billing date, then switch to ${t}. Continue?`))return;if(!w?.stripeSubscriptionId)return void alert("No active subscription found. Please contact support.");m(!0);let r=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"downgrade_end_cycle",userId:e.id,newPriceId:s,newPlanType:t,subscriptionId:w.stripeSubscriptionId})}),a=await r.json();if(!r.ok)throw Error(a.error||`HTTP ${r.status}`);a.success?(alert(a.message||"Downgrade scheduled successfully!"),await eI()):alert(a.error||"Downgrade failed")}catch(e){console.error("Downgrade error:",e),alert("Downgrade failed: "+e.message)}finally{m(!1)}},eP=(e,s)=>{let t=w.tier||"free",a="free"!==w.tier&&w.stripeSubscriptionId,i=t===e,l=ev(t),n=ev(e);return(console.log(`ðŸ” Button for ${e}: current=${t}, isCurrentPlan=${i}, hasActive=${a}`),i)?(0,r.jsx)("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 py-3 rounded-lg font-medium cursor-not-allowed",children:"Current Plan"}):a?a&&n>l?(0,r.jsx)("button",{onClick:()=>eN(s,e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Upgrade"}):a&&n<l?(0,r.jsx)("button",{onClick:()=>ew(s,e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Downgrade"}):null:(0,r.jsx)("button",{onClick:()=>eC(e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Choose Plan"})},eC=async s=>{if(e?.id)try{if(m(!0),"free"!==w.tier&&w.stripeSubscriptionId)return void alert(`You already have an active ${w.tier} subscription. Please use the upgrade/downgrade options instead.`);let r=await fetch("/api/stripe/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"",planType:s,userId:e.id})}),a=await r.json();if(console.log("Subscription response:",a),!r.ok){if(a.shouldUpgrade)return void alert(a.message);throw Error(a.error||`HTTP ${r.status}`)}if(a.sessionId){console.log("Redirecting to Stripe checkout:",a.sessionId);try{let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();if(!s)throw Error("Stripe failed to load");let r=await s.redirectToCheckout({sessionId:a.sessionId});r.error&&(console.error("Stripe redirect error:",r.error),alert("Stripe redirect failed: "+r.error.message))}catch(e){console.error("Stripe loading/redirect error:",e),a.url?(console.log("Falling back to direct URL redirect:",a.url),window.location.href=a.url):alert("Could not load Stripe. Please try again or contact support.")}}else a.url?(console.log("Redirecting to URL:",a.url),window.location.href=a.url):(console.error("No session ID or URL in response:",a),alert("Error: No checkout URL received"))}catch(e){console.error("Error purchasing subscription:",e),alert("Error starting checkout. Please try again.")}finally{m(!1)}},e_=async()=>{try{m(!0);let e=await fetch("/api/stripe/create-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobData:{title:"Single Job Posting"}})}),s=await e.json();if(s.sessionId){let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),r=await e();await r.redirectToCheckout({sessionId:s.sessionId})}else alert("Error creating checkout session: "+(s.error||"Unknown error"))}catch(e){console.error("Error purchasing single job:",e),alert("Error starting checkout. Please try again.")}finally{m(!1)}},eS=async e=>{try{m(!0);let s=await fetch("/api/stripe/purchase-addon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addonType:e,priceId:""})}),r=await s.json();if(r.sessionId){let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();await s.redirectToCheckout({sessionId:r.sessionId})}else alert("Error creating checkout session: "+(r.error||"Unknown error"))}catch(e){console.error("Error purchasing addon:",e),alert("Error starting checkout. Please try again.")}finally{m(!1)}},eE=async(s,r)=>{if(e?.id)try{m(!0);let a={featured:process.env.NEXT_PUBLIC_STRIPE_FEATURED_LISTING_PRICE_ID||"",urgent:process.env.NEXT_PUBLIC_STRIPE_URGENT_BADGE_PRICE_ID||""}[r];if(!a)return void alert("Feature not available. Please contact support.");let i=await fetch("/api/purchase-job-feature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:s,featureType:r,priceId:a,userId:e.id})}),l=await i.json();if(l.sessionId){let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();await s.redirectToCheckout({sessionId:l.sessionId})}else alert("Error creating checkout session: "+(l.error||"Unknown error"))}catch(e){console.error("Error purchasing job feature:",e),alert("Error starting checkout. Please try again.")}finally{m(!1)}},ek=(e,s)=>{H(e),W(s),G(!0)},eI=async()=>{try{if(!e?.id)return void console.log("No user ID, skipping subscription load");console.log("\uD83D\uDD04 Loading subscription for user:",e.id);let s=await fetch(`/api/subscription-status?userId=${e.id}`),t=await s.json();if(console.log("\uD83D\uDCCA Subscription API response:",t),t.success&&t.subscription){console.log("âœ… Setting subscription state:",t.subscription.plan_type);let e={tier:t.subscription.plan_type||"free",credits:t.subscription.credits||0,activeJobs:t.subscription.active_jobs_limit||0,status:t.subscription.status,currentPeriodEnd:t.subscription.current_period_end,stripeSubscriptionId:t.subscription.stripe_subscription_id||null};P(e),console.log("âœ… Subscription state set:",e)}else console.log("â„¹ï¸ No active subscription found, setting free tier"),P({tier:"free",credits:0,activeJobs:0,stripeSubscriptionId:null})}catch(e){console.error("âŒ Error loading subscription:",e),P({tier:"free",credits:0,activeJobs:0,stripeSubscriptionId:null})}},eR=async()=>{try{ea(!0);let e=new URLSearchParams;Object.entries(es).forEach(([s,t])=>{t&&e.append(s,t)});let s=await fetch(`/api/resume-search?${e}`),t=await s.json();t.success?ee(t.profiles):alert("Error searching resumes: "+t.error)}catch(e){console.error("Error searching resumes:",e),alert("Error searching resumes")}finally{ea(!1)}},eD=async s=>{if(e?.id){if(ei<1)return void alert("Insufficient credits. Please purchase resume credits to view contact details.");if(!en.has(s))try{let t=await fetch("/api/unlock-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileId:s,userId:e.id})}),r=await t.json();r.success?(eo(e=>new Set([...e,s])),el(e=>e-1),alert("âœ… Contact details unlocked! 1 credit used.")):alert("Error unlocking profile: "+r.error)}catch(e){console.error("Error unlocking profile:",e),alert("Error unlocking profile")}}},eT=b.filter(e=>{let s=!ex||e.job_id===ex,t=!eh||e.status===eh;return s&&t}),eJ=async()=>{if(e?.id)try{let s=await fetch(`/api/subscription-status?userId=${e.id}`),t=await s.json();t.success&&t.subscription&&P({tier:t.subscription.plan_type||"free",credits:t.credits||0,activeJobs:t.subscription.active_jobs_limit||0,status:t.subscription.status,currentPeriodEnd:t.subscription.current_period_end,stripeSubscriptionId:t.subscription.stripe_subscription_id||null})}catch(e){console.error("Error updating subscription:",e)}},eA=async()=>{if(e)try{console.log("\uD83D\uDCCA Loading jobs for employer:",e.id);let s=await fetch(`/api/jobs?userId=${e.id}`),t=await s.json();t.jobs?(p(t.jobs),console.log(`âœ… Loaded ${t.jobs.length} jobs`)):console.error("âŒ Failed to load jobs:",t.error)}catch(e){console.error("âŒ Error loading jobs:",e)}},eU=async()=>{if(e)try{console.log("\uD83D\uDCCA Loading applications for employer:",e.id);let s=await fetch(`/api/applications?employerId=${e.id}`),t=await s.json();t.success?(j(t.applications),console.log(`âœ… Loaded ${t.applications.length} applications`)):console.error("âŒ Failed to load applications:",t.error)}catch(e){console.error("âŒ Error loading applications:",e)}},e$=async s=>{if(s.preventDefault(),e?.id)try{let s=K?"PUT":"POST",t=K?`/api/jobs/${K.id}`:"/api/jobs",r=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify({...ed,userId:e.id,id:K?.id})});if(r.ok)await eA(),L(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""}),alert(K?"Job updated successfully!":"Job posted successfully!");else{let e=await r.json();alert("Error: "+e.error)}}catch(e){console.error("Error submitting job:",e),alert("Error submitting job")}},eO=async(s,t)=>{if(e?.id)try{let r=await fetch("/api/applications",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:s,status:t,userId:e.id})});if(r.ok)await eU(),alert("Application status updated successfully!");else{let e=await r.json();alert("Error: "+e.error)}}catch(e){console.error("Error updating application:",e),alert("Error updating application status")}},eF=e=>{Q(e),ec({title:e.title||"",company:e.company||"",description:e.description||"",requirements:e.requirements||"",region:e.region||"",hourlyRate:e.hourly_rate||"",duration:e.duration||"",startDate:e.start_date||"",industry:e.industry||"",classification:e.classification||"",benefits:e.benefits||"",contactEmail:e.contact_email||"",contactPhone:e.contact_phone||""}),L(!0)},eL=async e=>{if(confirm("Are you sure you want to delete this job?"))try{let s=await fetch(`/api/jobs/${e}`,{method:"DELETE"});if(s.ok)await eA(),alert("Job deleted successfully!");else{let e=await s.json();alert("Error: "+e.error)}}catch(e){console.error("Error deleting job:",e),alert("Error deleting job")}},eq=e=>{Y(e),B(!0)},eB=e=>e?new Date(e).toLocaleDateString():"Never",eM=e=>!!e&&new Date(e)<new Date,eG=s&&!e||e&&x;return(console.log("\uD83D\uDD04 Loading check - auth loading:",s,"user exists:",!!e,"dashboard loading:",x,"should show loading:",eG),eG)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-4",children:"â³"}),(0,r.jsx)("div",{children:"Loading your dashboard..."}),(0,r.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:s&&!e?"Authenticating...":"Loading dashboard data..."}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:["Auth: ",s?"loading":"done"," | User: ",e?"found":"none"," | Dashboard: ",x?"loading":"done"]})]})}):(console.log("âœ… Rendering dashboard - subscription tier:",w.tier),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 mb-6 shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Employer Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Welcome back! Manage your job postings and applications."}),(0,r.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Current Plan: ",w.tier," | Credits: ",w.credits," | Jobs Limit: ",w.activeJobs]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[C&&!S?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>I(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 shadow-lg",children:"\uD83C\uDF81 First Job Free"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:"Post Job"})]}):(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:"Post New Job"}),(0,r.jsx)(o(),{href:"/",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium",children:"View Site"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:g.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-500",children:"enterprise"===w.tier?"Unlimited":`${Math.max(0,(w.activeJobs||0)-g.length)}`}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"enterprise"===w.tier?"Job Postings":"Jobs Left"}),"enterprise"!==w.tier&&0===w.activeJobs&&(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Upgrade for more"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:b.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Applications"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:b.filter(e=>"new"===e.status).length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"New Applications"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:ei}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Resume Credits"})]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"jobs",label:"Job Postings",icon:"\uD83D\uDCBC"},{id:"applications",label:"Applications",icon:"\uD83D\uDCE7",badge:b.filter(e=>"new"===e.status).length},{id:"resume-search",label:"Resume Search",icon:"\uD83D\uDD0D"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCC8"},{id:"billing",label:"Products & Billing",icon:"\uD83D\uDED2"}].map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${n===e.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.icon," ",e.label,e.badge&&e.badge>0&&(0,r.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:e.badge})]},e.id))})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow",children:["overview"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Dashboard Overview"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Recent Job Postings"}),g.slice(0,3).map(e=>(0,r.jsx)("div",{className:"border border-gray-200 p-4 mb-2 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"text-gray-600 text-sm",children:[e.company," â€¢ ",e.region]}),(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Posted: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[e.is_free_job&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"\uD83C\uDF81 FREE"}),e.isFeatured&&!eM(e.featuredUntil)&&(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"â­ Featured"}),e.isUrgent&&!eM(e.urgentUntil)&&(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"\uD83D\uDEA8 Urgent"})]})]})},e.id)),0===g.length&&(0,r.jsxs)("p",{className:"text-gray-500 italic",children:["No jobs posted yet. ",(0,r.jsx)("button",{onClick:()=>L(!0),className:"text-orange-500",children:"Post your first job"}),"!"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Recent Applications"}),b.slice(0,3).map(e=>(0,r.jsx)("div",{className:"border border-gray-200 p-4 mb-2 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"font-semibold",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:e.jobs?.title}),(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Applied: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${"new"===e.status?"bg-blue-100 text-blue-800":"shortlisted"===e.status?"bg-green-100 text-green-800":"interviewed"===e.status?"bg-purple-100 text-purple-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status||"new"})]})},e.id)),0===b.length&&(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No applications yet. Applications will appear here when candidates apply to your jobs."})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[C&&!S&&(0,r.jsx)("button",{onClick:()=>I(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg",children:"\uD83C\uDF81 Post Free Job"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:"Post New Job"}),(0,r.jsx)("button",{onClick:()=>c("applications"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Review Applications"}),(0,r.jsx)("button",{onClick:()=>c("analytics"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg",children:"View Analytics"})]})]})]}),"jobs"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Job Postings (",g.length,")"]}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:"Post New Job"})]}),0===g.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCBC"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No jobs posted yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Start by posting your first job to attract candidates"}),(0,r.jsx)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg",children:"Post Your First Job"})]}):(0,r.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"flex gap-1",children:[e.is_free_job&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"\uD83C\uDF81 FREE"}),e.isFeatured&&!eM(e.featuredUntil)&&(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"â­ Featured"}),e.isUrgent&&!eM(e.urgentUntil)&&(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"\uD83D\uDEA8 Urgent"})]})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-1",children:[e.company," â€¢ ",e.region]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Posted: ",eB(e.created_at)]}),(0,r.jsx)("p",{className:"text-gray-700 mt-2 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>eF(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>eL(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>ek(e,"featured"),className:"text-yellow-600 hover:text-yellow-700 text-sm flex items-center gap-1",children:"â­ Feature Job"}),(0,r.jsx)("button",{onClick:()=>ek(e,"urgent"),className:"text-red-600 hover:text-red-700 text-sm flex items-center gap-1",children:"\uD83D\uDEA8 Mark Urgent"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[b.filter(s=>s.job_id===e.id).length," applications"]})]})]},e.id))})]}),"applications"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Applications (",b.length,")"]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("button",{onClick:()=>u(!h),className:`px-3 py-1 rounded text-sm ${h?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:["Auto-refresh ",h?"ON":"OFF"]})})]}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Filter by Job"}),(0,r.jsxs)("select",{value:ex,onChange:e=>em(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"All Jobs"}),g.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.title," - ",e.company]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Filter by Status"}),(0,r.jsxs)("select",{value:eh,onChange:e=>eu(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"new",children:"New"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]})}),0===eT.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCE7"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No applications yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Applications will appear here when candidates apply to your jobs"})]}):(0,r.jsx)("div",{className:"space-y-4",children:eT.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${"new"===e.status?"bg-blue-100 text-blue-800":"shortlisted"===e.status?"bg-green-100 text-green-800":"interviewed"===e.status?"bg-purple-100 text-purple-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status||"new"})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-1",children:["Applied for: ",e.jobs?.title]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Email: ",e.email," â€¢ Phone: ",e.phone]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Applied: ",eB(e.applied_at)]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>eq(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"View Details"}),(0,r.jsxs)("select",{value:e.status||"new",onChange:s=>eO(e.id,s.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,r.jsx)("option",{value:"new",children:"New"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]})},e.id))})]}),"resume-search"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Resume Search"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Credits: ",ei," â€¢ Each contact unlock uses 1 credit"]})]}),ei<5&&(0,r.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCB3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-800",children:"Need More Resume Credits?"}),(0,r.jsx)("p",{className:"text-orange-700",children:"Purchase resume credits to unlock candidate contact information"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"10 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$39"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$3.90 per credit"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_10"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]}),(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center relative",children:[(0,r.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Most Popular"}),(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"25 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$79"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$3.16 per credit"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_25"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]}),(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"50 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$129"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$2.58 per credit"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_50"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Search Filters"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Keywords"}),(0,r.jsx)("input",{type:"text",value:es.keywords,onChange:e=>et(s=>({...s,keywords:e.target.value})),placeholder:"Skills, job titles, etc.",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Location"}),(0,r.jsx)("input",{type:"text",value:es.location,onChange:e=>et(s=>({...s,location:e.target.value})),placeholder:"City, state, remote",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Classification"}),(0,r.jsxs)("select",{value:es.classification,onChange:e=>et(s=>({...s,classification:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Any Classification"}),(0,r.jsx)("option",{value:"Staff",children:"Staff"}),(0,r.jsx)("option",{value:"Contract",children:"Contract"}),(0,r.jsx)("option",{value:"Freelance",children:"Freelance"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:eR,disabled:er,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:er?"Searching...":"Search Resumes"}),(0,r.jsx)("button",{onClick:()=>et({keywords:"",location:"",classification:"",specialization:"",minExperience:"",maxExperience:"",industries:"",clearance:"",availableBy:"",minRate:"",maxRate:""}),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Clear Filters"})]})]}),(0,r.jsx)("div",{children:0===Z.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD0D"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No search results"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Use the filters above to search for candidates"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["Search Results (",Z.length,")"]}),Z.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-1",children:en.has(e.id)?`${e.first_name} ${e.last_name}`:`${e.first_name} ${e.last_name?.[0]}***`}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:e.title||"Professional"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:e.summary}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.skills?.split(",").slice(0,5).map((e,s)=>(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:e.trim()},s))}),en.has(e.id)&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["Email: ",e.email]}),(0,r.jsxs)("p",{children:["Phone: ",e.phone]})]})]}),(0,r.jsx)("div",{className:"ml-4",children:en.has(e.id)?(0,r.jsx)("div",{className:"text-green-600 font-medium",children:"Contact Unlocked"}):(0,r.jsx)("button",{onClick:()=>eD(e.id),disabled:ei<1,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Unlock Contact (1 credit)"})})]})},e.id))]})})]}),"analytics"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Analytics & Insights"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:y.totalViews||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Job Views"})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:y.totalApplications||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Applications"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[y.totalApplications>0?Math.round(y.totalApplications/Math.max(y.totalViews,1)*100):0,"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Application Rate"})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:y.activeJobs||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Job Performance"}),0===g.length?(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No job data available"}):(0,r.jsx)("div",{className:"space-y-3",children:g.map(e=>{let s=b.filter(s=>s.job_id===e.id);return(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:e.company})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:s.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Applications"})]})]})},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,r.jsxs)("div",{className:"space-y-2",children:[b.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("span",{className:"text-gray-600",children:" applied to "}),(0,r.jsx)("span",{className:"font-medium",children:e.jobs?.title})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:eB(e.applied_at)})]},e.id)),0===b.length&&(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No recent activity"})]})]})]}),"billing"===n&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(d,{user:e,subscription:{plan_type:w.tier,credits:w.credits,active_jobs_limit:w.activeJobs,status:w.status,current_period_end:w.currentPeriodEnd,stripe_subscription_id:w.stripeSubscriptionId,price:w.price||0},onSubscriptionUpdate:eJ}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Subscription Plans"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Starter"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$199"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 3 active job postings"}),(0,r.jsx)("li",{children:"âœ… Basic applicant management"}),(0,r.jsx)("li",{children:"âœ… Email support"})]}),eP("starter",process.env.NEXT_PUBLIC_STRIPE_STARTER_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-orange-300 rounded-lg p-6 relative bg-orange-50",children:[(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"MOST POPULAR"})}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Growth"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$299"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 6 active job postings"}),(0,r.jsx)("li",{children:"âœ… Resume credits included"}),(0,r.jsx)("li",{children:"âœ… Priority support"})]}),eP("growth",process.env.NEXT_PUBLIC_STRIPE_GROWTH_PLAN_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Professional"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$599"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 15 active job postings"}),(0,r.jsx)("li",{children:"âœ… 25 resume credits included"}),(0,r.jsx)("li",{children:"âœ… Advanced analytics"}),(0,r.jsx)("li",{children:"âœ… Featured listings"})]}),eP("professional",process.env.NEXT_PUBLIC_STRIPE_PROFESSIONAL_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Enterprise"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600 my-2",children:"$1,999"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… Unlimited job postings"}),(0,r.jsx)("li",{children:"âœ… Unlimited resume access"}),(0,r.jsx)("li",{children:"âœ… Dedicated account manager"})]}),eP("enterprise",process.env.NEXT_PUBLIC_STRIPE_ENTERPRISE_PRICE_ID||"")]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Single Job Postings & Add-Ons"}),(0,r.jsx)("div",{className:"grid md:grid-cols-1 gap-6 mb-8",children:(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Single Job"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$99"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"one-time"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 1 job posting (30 days)"}),(0,r.jsx)("li",{children:"âœ… Basic applicant management"}),(0,r.jsx)("li",{children:"âœ… Email support"})]}),(0,r.jsx)("button",{onClick:()=>e_(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Post Job - $99"})]})}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Premium Add-Ons"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 10 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$39"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"10 credits for candidate contact"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_10"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 10 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 25 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$79"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"25 credits - Best Value"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_25"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 25 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 50 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$129"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"50 credits for high volume"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_50"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 50 Credits"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Featured Listing"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$29"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Top of search results with bright highlight badge"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded",children:"â­ Manage Featured Jobs"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Urgent Badge"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$19"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:'Bright "URGENT" badge for immediate attention'}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded",children:"\uD83D\uDEA8 Manage Urgent Jobs"})]})]})]})]})]}),"billing-old"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Billing & Plans"}),(0,r.jsx)("div",{className:"bg-blue-50 p-6 rounded-lg mb-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold capitalize",children:["Current Plan: ",w.tier]}),(0,r.jsx)("p",{className:"text-gray-600",children:"free"===w.tier?"You are on the free plan with limited features":`Your ${w.tier} plan is active`}),w.currentPeriodEnd&&(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Renews on: ",eB(w.currentPeriodEnd)]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:w.credits||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Resume Credits"})]})]})}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Single Job"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$99"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"one-time"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 1 job posting (30 days)"}),(0,r.jsx)("li",{children:"âœ… Basic applicant management"}),(0,r.jsx)("li",{children:"âœ… Email support"})]}),(0,r.jsx)("button",{onClick:()=>e_(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Post Job - $99"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Starter"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$199"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 3 active job postings"}),(0,r.jsx)("li",{children:"âœ… Basic applicant management"}),(0,r.jsx)("li",{children:"âœ… Email support"})]}),eP("starter",process.env.NEXT_PUBLIC_STRIPE_STARTER_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-orange-300 rounded-lg p-6 relative bg-orange-50",children:[(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)("span",{className:"bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"MOST POPULAR"})}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Growth"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$299"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 6 active job postings"}),(0,r.jsx)("li",{children:"âœ… Resume credits included"}),(0,r.jsx)("li",{children:"âœ… Priority support"})]}),eP("growth",process.env.NEXT_PUBLIC_STRIPE_GROWTH_PLAN_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Professional"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$599"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"per month"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 15 active job postings"}),(0,r.jsx)("li",{children:"âœ… 25 resume credits included"}),(0,r.jsx)("li",{children:"âœ… Advanced analytics"}),(0,r.jsx)("li",{children:"âœ… Featured listings"})]}),eP("professional",process.env.NEXT_PUBLIC_STRIPE_PROFESSIONAL_PRICE_ID||"")]})]}),(0,r.jsxs)("div",{className:"border border-purple-300 rounded-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-2xl font-semibold",children:"Enterprise"}),(0,r.jsx)("div",{className:"text-4xl font-bold text-purple-600 my-2",children:"$1,999"}),(0,r.jsx)("div",{className:"text-gray-600",children:"per month"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6 text-sm",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{children:"âœ… Unlimited job postings"})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{children:"âœ… Unlimited resume access"})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{children:"âœ… Dedicated account manager"})})]}),eP("enterprise",process.env.NEXT_PUBLIC_STRIPE_ENTERPRISE_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Premium Add-Ons"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 10 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$39"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"10 credits for candidate contact"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_10"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 10 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 25 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$79"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"25 credits - Best Value"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_25"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 25 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 50 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$129"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"50 credits for high volume"}),(0,r.jsx)("button",{onClick:()=>eS("resume_credits_50"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 50 Credits"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Featured Listing"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$29"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Top of search results with bright highlight badge"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded",children:"â­ Manage Featured Jobs"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Urgent Badge"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$19"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:'Bright "URGENT" badge for immediate attention'}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded",children:"\uD83D\uDEA8 Manage Urgent Jobs"})]})]})]})]})]}),F&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:K?"Edit Job":"Post New Job"}),(0,r.jsx)("button",{onClick:()=>{L(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})},className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("form",{onSubmit:e$,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Job Title *"}),(0,r.jsx)("input",{type:"text",value:ed.title,onChange:e=>ec(s=>({...s,title:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Company *"}),(0,r.jsx)("input",{type:"text",value:ed.company,onChange:e=>ec(s=>({...s,company:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,r.jsx)("textarea",{value:ed.description,onChange:e=>ec(s=>({...s,description:e.target.value})),required:!0,rows:4,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Requirements"}),(0,r.jsx)("textarea",{value:ed.requirements,onChange:e=>ec(s=>({...s,requirements:e.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Region *"}),(0,r.jsx)("input",{type:"text",value:ed.region,onChange:e=>ec(s=>({...s,region:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hourly Rate"}),(0,r.jsx)("input",{type:"text",value:ed.hourlyRate,onChange:e=>ec(s=>({...s,hourlyRate:e.target.value})),placeholder:"$50-75/hr",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duration"}),(0,r.jsx)("input",{type:"text",value:ed.duration,onChange:e=>ec(s=>({...s,duration:e.target.value})),placeholder:"6 months",className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:ed.startDate,onChange:e=>ec(s=>({...s,startDate:e.target.value})),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Industry"}),(0,r.jsxs)("select",{value:ed.industry,onChange:e=>ec(s=>({...s,industry:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Industry"}),(0,r.jsx)("option",{value:"Technology",children:"Technology"}),(0,r.jsx)("option",{value:"Healthcare",children:"Healthcare"}),(0,r.jsx)("option",{value:"Finance",children:"Finance"}),(0,r.jsx)("option",{value:"Education",children:"Education"}),(0,r.jsx)("option",{value:"Manufacturing",children:"Manufacturing"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{L(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:K?"Update Job":"Post Job"})]})]})]})}),k&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-green-600",children:"Post Your First Job Free! \uD83C\uDF81"}),(0,r.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsx)("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:(0,r.jsx)("p",{className:"text-green-800",children:"\uD83C\uDF89 Congratulations! You're eligible for one free job posting. This is a limited-time offer for new employers."})}),(0,r.jsxs)("form",{onSubmit:ey,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Job Title *"}),(0,r.jsx)("input",{type:"text",value:ed.title,onChange:e=>ec(s=>({...s,title:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Company *"}),(0,r.jsx)("input",{type:"text",value:ed.company,onChange:e=>ec(s=>({...s,company:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,r.jsx)("textarea",{value:ed.description,onChange:e=>ec(s=>({...s,description:e.target.value})),required:!0,rows:4,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Region *"}),(0,r.jsx)("input",{type:"text",value:ed.region,onChange:e=>ec(s=>({...s,region:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hourly Rate"}),(0,r.jsx)("input",{type:"text",value:ed.hourlyRate,onChange:e=>ec(s=>({...s,hourlyRate:e.target.value})),placeholder:"$50-75/hr",className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded hover:from-green-600 hover:to-blue-600 disabled:opacity-50",children:x?"Posting...":"Post Free Job \uD83C\uDF81"})]})]})]})}),q&&X&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Application Details"}),(0,r.jsx)("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",X.first_name," ",X.last_name]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",X.email]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Phone:"})," ",X.phone]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Applied for:"})," ",X.jobs?.title]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Classification:"})," ",X.classification||"Not specified"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Applied on:"})," ",eB(X.applied_at)]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Status:"}),(0,r.jsxs)("select",{value:X.status||"new",onChange:e=>{eO(X.id,e.target.value),Y(s=>({...s,status:e.target.value}))},className:"ml-2 px-2 py-1 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"new",children:"New"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-6",children:(0,r.jsx)("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Close"})})]})}),M&&z&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"featured"===V?"Feature Job":"Mark as Urgent"}),(0,r.jsx)("button",{onClick:()=>G(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:z.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:z.company})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"featured"===V?"â­ Featured Job Listing":"\uD83D\uDEA8 Urgent Job Badge"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"featured"===V?"Your job will appear at the top of search results and get highlighted styling for 30 days.":'Your job will display an "URGENT" badge to attract immediate attention for 14 days.'}),(0,r.jsx)("div",{className:"text-lg font-bold",children:"featured"===V?"$29":"$19"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>G(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsxs)("button",{onClick:()=>{eE(z.id,V),G(!1)},className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:["Purchase ","featured"===V?"$29":"$19"]})]})]})}),T&&A&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF89"}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Great News!"})]}),(0,r.jsx)("div",{className:"mb-4",children:"first_application"===A.prompt_type&&(0,r.jsx)("p",{className:"text-gray-700",children:"Congratulations! You just received your first application on your free job posting. Upgrade to a paid plan to unlock more job postings and advanced features."})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>ef("dismiss"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Maybe Later"}),(0,r.jsx)("button",{onClick:()=>ef("upgrade"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"View Plans"})]})]})})]})}))}function x(){return(0,r.jsx)(i.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}),children:(0,r.jsx)(c,{})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},42193:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx","default")},46055:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},47990:()=>{},49750:(e,s,t)=>{Promise.resolve().then(t.bind(t,28823))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55800:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},58014:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,metadata:()=>n});var r=t(37413),a=t(59258),i=t.n(a),l=t(36162);t(82704);let n={title:{default:"FieldJobs - Technical Careers in Energy, Construction & Industrial",template:"%s | FieldJobs"},description:"Find technical careers in energy, construction, nuclear, and industrial sectors. Connect skilled professionals with top employers in field-based technical roles.",keywords:["technical jobs","field jobs","energy careers","construction jobs","nuclear jobs","industrial careers","technical professionals","skilled trades","engineering jobs","field technician jobs"],authors:[{name:"FieldJobs"}],creator:"FieldJobs",publisher:"FieldJobs",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://field-jobs.co"),alternates:{canonical:"/"},openGraph:{type:"website",locale:"en_US",url:"https://field-jobs.co",title:"FieldJobs - Technical Careers in Energy, Construction & Industrial",description:"Find technical careers in energy, construction, nuclear, and industrial sectors. Connect skilled professionals with top employers.",siteName:"FieldJobs",images:[{url:"/og-image.jpg",width:1200,height:630,alt:"FieldJobs - Technical Career Platform"}]},twitter:{card:"summary_large_image",title:"FieldJobs - Technical Careers in Energy, Construction & Industrial",description:"Find technical careers in energy, construction, nuclear, and industrial sectors.",images:["/og-image.jpg"],creator:"@fieldjobs"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:"your-google-site-verification-code"}};function o({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[(0,r.jsx)("head",{children:(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"FieldJobs",url:"https://field-jobs.co",description:"Technical career platform for energy, construction, and industrial professionals",potentialAction:{"@type":"SearchAction",target:"https://field-jobs.co/?q={search_term_string}","query-input":"required name=search_term_string"}})}})}),(0,r.jsxs)("body",{className:i().className,children:[(0,r.jsx)(l.default,{src:"https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID",strategy:"afterInteractive"}),(0,r.jsx)(l.default,{id:"google-analytics",strategy:"afterInteractive",children:`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'GA_MEASUREMENT_ID');
          `}),e]})]})}},58572:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,47429,23))},62424:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},82704:()=>{},85617:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(65239),a=t(48088),i=t(88170),l=t.n(i),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["employer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,42193)),"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/mattiebrooke/fieldjobs-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/employer/page",pathname:"/employer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86702:(e,s,t)=>{Promise.resolve().then(t.bind(t,42193))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4243,8775,1658,5745,5814],()=>t(85617));module.exports=r})();