(()=>{var e={};e.id=6282,e.ids=[6282],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(60687),i=t(7588),a=t(43210),l=t(16189),n=t(85814),o=t.n(n);let d=({user:e,subscription:s,onSubscriptionUpdate:t})=>{let[i,l]=(0,a.useState)("overview"),[n,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)([]),[x,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{"billing"===i&&e?.id&&b(),e?.id&&j()},[i,s,e?.id]);let b=async()=>{try{o(!0),console.log("\uD83D\uDCDC Loading billing history for user:",e.id);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_billing_history",userId:e.id})}),t=await s.json();console.log("\uD83D\uDCDC Billing history response:",t),t.success?(console.log("âœ… Setting billing history:",t.billingHistory?.length||0,"invoices"),c(t.billingHistory||[])):(console.error("âŒ Error loading billing history:",t.error),alert(`Unable to load billing history: ${t.message||t.error}`))}catch(e){console.error("âŒ Error loading billing history:",e),alert("Error loading billing history. Please try again.")}finally{o(!1)}},j=async()=>{try{let s=await fetch(`/api/subscription-schedule-status?userId=${e.id}`),t=await s.json();t.success&&t.scheduledChanges&&(g(t.scheduledChanges),console.log("\uD83D\uDCC5 Loaded scheduled changes:",t.scheduledChanges))}catch(e){console.error("Error loading scheduled changes:",e)}},y=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"cancel",userId:e.id})}),r=await s.json();r.success?(alert(`âœ… ${r.message}`),t(),u(!1)):alert("Error cancelling subscription. Please try again.")}catch(e){console.error("Error cancelling subscription:",e),alert("Error cancelling subscription. Please try again.")}finally{o(!1)}},f=async()=>{try{o(!0);let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reactivate",userId:e.id})});(await s.json()).success?(alert("âœ… Subscription reactivated successfully!"),t()):alert("Error reactivating subscription. Please try again.")}catch(e){console.error("Error reactivating subscription:",e),alert("Error reactivating subscription. Please try again.")}finally{o(!1)}},v=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),N=e=>`$${(e/100).toFixed(2)}`,w=()=>s?.current_period_end?v(s.current_period_end):"N/A",C=s?.status==="cancelled"||s?.cancelled_at;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Subscription Management"}),(0,r.jsx)("div",{className:"flex gap-2 mb-6 border-b",children:[{id:"overview",label:"Overview"},{id:"billing",label:"Billing History"}].map(e=>(0,r.jsx)("button",{onClick:()=>l(e.id),className:`px-4 py-2 font-medium transition-colors ${i===e.id?"text-orange-500 border-b-2 border-orange-500":"text-gray-500 hover:text-gray-700"}`,children:e.label},e.id))}),"overview"===i&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:`p-6 rounded-lg ${C?"bg-red-50 border border-red-200":"bg-gradient-to-r from-orange-500 to-orange-600 text-white"}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:`text-xl font-bold ${C?"text-red-800":"text-white"}`,children:[(e=>({free:"Free Account",starter:"Starter Plan",growth:"Growth Plan",professional:"Professional Plan",enterprise:"Enterprise Plan"})[e]||e)(s?.plan_type||"free"),C&&(0,r.jsx)("span",{className:"ml-2 text-sm bg-red-600 text-white px-2 py-1 rounded-full",children:"Cancelled"})]}),(0,r.jsx)("div",{className:`${C?"text-red-700":"text-white"}`,children:s?.plan_type==="free"?s?.active_jobs_limit>0?`${s?.active_jobs_limit} job posting${s?.active_jobs_limit!==1?"s":""} available`:"Upgrade to unlock premium features":C?`Active until ${w()}`:`${N(s?.price||0)}/month â€¢ Next billing: ${w()}`})]}),s?.plan_type!=="free"&&(0,r.jsx)("div",{className:"flex gap-2",children:C?(0,r.jsx)("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Reactivate"}):(0,r.jsx)("button",{onClick:()=>p(!0),className:"bg-white text-orange-500 hover:bg-gray-50 px-4 py-2 rounded-lg",children:"Change Plan"})})]})}),h.length>0&&(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCC5 Upcoming Changes"}),h.map((e,s)=>(0,r.jsxs)("div",{className:"text-blue-700",children:["Your plan will change from ",(0,r.jsx)("strong",{children:e.currentPlan})," to ",(0,r.jsx)("strong",{children:e.newPlan})," on"," ",(0,r.jsx)("strong",{children:v(e.effectiveDate)})]},e.id||s))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:s?.active_jobs_limit===999999?"âˆž":s?.active_jobs_limit||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Job Limit"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:s?.credits===999999?"âˆž":s?.credits||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Resume Credits"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:s?.plan_type==="free"?"30 days":"âˆž"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Job Duration"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsx)("button",{onClick:()=>l("billing"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"View Billing History"}),(0,r.jsx)("button",{onClick:()=>l("plans"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:s?.plan_type==="free"?"Upgrade Plan":"Change Plan"})]})]})]}),!1,"billing"===i&&(0,r.jsxs)("div",{className:"space-y-6",children:[s?.plan_type!=="free"&&C&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Subscription Management"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,r.jsx)("button",{onClick:f,disabled:n,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Reactivate Subscription"})}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-red-700 text-sm",children:["âš ï¸ Your subscription is cancelled and will end on ",w(),". You can reactivate it before then to continue your plan."]})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h4",{className:"text-lg font-semibold",children:"Billing History"}),(0,r.jsx)("button",{onClick:b,disabled:n,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Loading...":"Refresh"})]}),0===d.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"No billing history available"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-gray-200 rounded-lg",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Date"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Description"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Amount"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-500",children:"Invoice"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200",children:d.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:v(e.date)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.description}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:N(e.amount)}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"paid"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,r.jsxs)("td",{className:"px-4 py-3 text-sm",children:[e.hosted_invoice_url&&(0,r.jsx)("a",{href:e.hosted_invoice_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 font-medium",children:"View Invoice â†’"}),!e.hosted_invoice_url&&e.invoice_pdf&&(0,r.jsx)("a",{href:e.invoice_pdf,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 font-medium",children:"Download PDF â†’"})]})]},e.id))})]})}),s?.plan_type!=="free"&&!C&&(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:(0,r.jsx)("button",{onClick:()=>u(!0),disabled:n,className:"text-xs text-gray-400 hover:text-gray-600 underline disabled:opacity-50 transition-colors",children:"Cancel subscription"})})]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Cancel Subscription"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to cancel your subscription? Your account will remain active until the end of your current billing period (",w(),")."]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Keep Subscription"}),(0,r.jsx)("button",{onClick:y,disabled:n,className:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:n?"Processing...":"Yes, Cancel"})]})]})})]})};function c(){let{user:e,loading:s}=(0,i.A)();(0,l.useRouter)(),(0,l.useSearchParams)();let[n,c]=(0,a.useState)("overview"),[x,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!0),[h,g]=(0,a.useState)([]),[b,j]=(0,a.useState)([]),[y,f]=(0,a.useState)({}),[v,N]=(0,a.useState)({}),[w,C]=(0,a.useState)({tier:"free",credits:0,activeJobs:0,stripeSubscriptionId:null}),[S,k]=(0,a.useState)(!1),[_,P]=(0,a.useState)(!0),[E,D]=(0,a.useState)(!1),[I,T]=(0,a.useState)([]),[R,U]=(0,a.useState)(!1),[J,A]=(0,a.useState)(null),[$,L]=(0,a.useState)({loading:!0,hasActiveSubscription:!1,currentPlan:"free",canPurchaseNew:!0}),[F,q]=(0,a.useState)(!1),[O,M]=(0,a.useState)(!1),[B,z]=(0,a.useState)(!1),[Y,V]=(0,a.useState)(null),[G,H]=(0,a.useState)(null),[W,X]=(0,a.useState)(""),[K,Q]=(0,a.useState)(null),[Z,ee]=(0,a.useState)([]),[es,et]=(0,a.useState)({keywords:"",location:"",classification:"",specialization:"",minExperience:"",maxExperience:"",industries:"",clearance:"",availableBy:"",minRate:"",maxRate:""}),[er,ei]=(0,a.useState)(!1),[ea,el]=(0,a.useState)(0),[en,eo]=(0,a.useState)(new Set),[ed,ec]=(0,a.useState)({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""}),[ex,eu]=(0,a.useState)(!1),[em,ep]=(0,a.useState)({company:"",phone:"",email:"",website:"",address:"",city:"",state:"",zipCode:""}),[eh,eg]=(0,a.useState)(""),[eb,ej]=(0,a.useState)(""),[ey,ef]=(0,a.useState)(!1),[ev,eN]=(0,a.useState)(!1),ew=async s=>{if(s.preventDefault(),e?.id)try{u(!0);let s=await fetch("/api/free-job/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,jobData:ed})}),t=await s.json();t.success?(alert("\uD83C\uDF89 "+t.message),await eF(),k(!1),D(!1),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})):alert("Error: "+t.error)}catch(e){console.error("Error creating free job:",e),alert("Error creating free job")}finally{u(!1)}},eC=async e=>{try{J&&await fetch("/api/free-job/upgrade-prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promptId:J.id,action:e})}),U(!1),A(null),"upgrade"===e&&c("billing")}catch(e){console.error("Error handling prompt action:",e)}},eS=e=>({free:0,starter:1,growth:2,professional:3,enterprise:4})[e]||0,ek=async(s,t)=>{if(!e?.id)return void alert("Please log in to upgrade your subscription.");try{if(u(!0),!w?.stripeSubscriptionId)return void alert("No active subscription found. Please contact support.");let r=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"upgrade_immediate",userId:e.id,newPriceId:s,newPlanType:t,subscriptionId:w.stripeSubscriptionId})}),i=await r.json();if(!r.ok)throw Error(i.error||`HTTP ${r.status}`);i.success?(alert(i.message||"Upgrade successful!"),await eU(),window.location.reload()):alert(i.error||"Upgrade failed")}catch(e){console.error("Upgrade error:",e),alert("Upgrade failed: "+e.message)}finally{u(!1)}},e_=async(s,t)=>{if(!e?.id)return void alert("Please log in to manage your subscription.");try{if(!confirm(`You'll keep your current features until your next billing date, then switch to ${t}. Continue?`))return;if(!w?.stripeSubscriptionId)return void alert("No active subscription found. Please contact support.");u(!0);let r=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"downgrade_end_cycle",userId:e.id,newPriceId:s,newPlanType:t,subscriptionId:w.stripeSubscriptionId})}),i=await r.json();if(!r.ok)throw Error(i.error||`HTTP ${r.status}`);i.success?(alert(i.message||"Downgrade scheduled successfully!"),await eU()):alert(i.error||"Downgrade failed")}catch(e){console.error("Downgrade error:",e),alert("Downgrade failed: "+e.message)}finally{u(!1)}},eP=(e,s)=>{let t=w.tier||"free",i="free"!==w.tier&&w.stripeSubscriptionId,a=t===e,l=eS(t),n=eS(e);return(console.log(`ðŸ” Button for ${e}: current=${t}, isCurrentPlan=${a}, hasActive=${i}`),a)?(0,r.jsx)("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-600 py-3 rounded-lg font-medium cursor-not-allowed",children:"Current Plan"}):i?i&&n>l?(0,r.jsx)("button",{onClick:()=>ek(s,e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Upgrade"}):i&&n<l?(0,r.jsx)("button",{onClick:()=>e_(s,e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Downgrade"}):null:(0,r.jsx)("button",{onClick:()=>eE(e),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium",disabled:x,children:x?"Processing...":"Choose Plan"})},eE=async s=>{if(e?.id)try{if(u(!0),"free"!==w.tier&&w.stripeSubscriptionId)return void alert(`You already have an active ${w.tier} subscription. Please use the upgrade/downgrade options instead.`);let r=await fetch("/api/stripe/create-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:"",planType:s,userId:e.id})}),i=await r.json();if(console.log("Subscription response:",i),!r.ok){if(i.shouldUpgrade||i.redirectToBilling){alert(i.message+" Redirecting to billing portal...");try{let s=await fetch("/api/stripe/manage-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_billing_portal",userId:e.id})}),t=await s.json();t.url?window.location.href=t.url:c("billing")}catch(e){console.error("Error opening billing portal:",e),c("billing")}return}throw Error(i.error||`HTTP ${r.status}`)}if(i.sessionId){console.log("Redirecting to Stripe checkout:",i.sessionId);try{let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();if(!s)throw Error("Stripe failed to load");let r=await s.redirectToCheckout({sessionId:i.sessionId});r.error&&(console.error("Stripe redirect error:",r.error),alert("Stripe redirect failed: "+r.error.message))}catch(e){console.error("Stripe loading/redirect error:",e),i.url?(console.log("Falling back to direct URL redirect:",i.url),window.location.href=i.url):alert("Could not load Stripe. Please try again or contact support.")}}else i.url?(console.log("Redirecting to URL:",i.url),window.location.href=i.url):(console.error("No session ID or URL in response:",i),alert("Error: No checkout URL received"))}catch(e){console.error("Error purchasing subscription:",e),alert("Error starting checkout. Please try again.")}finally{u(!1)}},eD=async()=>{try{u(!0);let e=await fetch("/api/stripe/create-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobData:{title:"Single Job Posting"}})}),s=await e.json();if(s.sessionId){let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),r=await e();await r.redirectToCheckout({sessionId:s.sessionId})}else alert("Error creating checkout session: "+(s.error||"Unknown error"))}catch(e){console.error("Error purchasing single job:",e),alert("Error starting checkout. Please try again.")}finally{u(!1)}},eI=async e=>{try{u(!0);let s=await fetch("/api/stripe/purchase-addon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addonType:e,priceId:""})}),r=await s.json();if(r.sessionId){let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();await s.redirectToCheckout({sessionId:r.sessionId})}else alert("Error creating checkout session: "+(r.error||"Unknown error"))}catch(e){console.error("Error purchasing addon:",e),alert("Error starting checkout. Please try again.")}finally{u(!1)}},eT=async(s,r)=>{if(console.log("\uD83C\uDFAF CLIENT: Feature purchase clicked!",{jobId:s,featureType:r,userId:e?.id}),!e?.id)return void console.log("âŒ CLIENT: No user ID, aborting");try{u(!0),console.log("\uD83C\uDFAF CLIENT: Calling API /api/purchase-job-feature");let i=await fetch("/api/purchase-job-feature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:s,featureType:r,userId:e.id})});console.log("\uD83D\uDCE1 CLIENT: API response status:",i.status);let a=await i.json();if(console.log("\uD83D\uDCE1 CLIENT: API response data:",a),a.sessionId){console.log("âœ… CLIENT: Got session ID, redirecting to Stripe");let{getStripe:e}=await t.e(9090).then(t.bind(t,49090)),s=await e();await s.redirectToCheckout({sessionId:a.sessionId})}else console.log("âŒ CLIENT: No session ID in response"),alert("Error creating checkout session: "+(a.error||"Unknown error"))}catch(e){console.error("âŒ CLIENT: Error purchasing job feature:",e),alert("Error starting checkout. Please try again.")}finally{u(!1)}},eR=(e,s)=>{H(e),X(s),z(!0)},eU=async()=>{try{if(!e?.id)return void console.log("No user ID, skipping subscription load");console.log("\uD83D\uDD04 Loading subscription for user:",e.id);let s=await fetch(`/api/subscription-status?userId=${e.id}`),t=await s.json();if(console.log("\uD83D\uDCCA Subscription API response:",t),t.success){let e=t.subscription?{tier:t.subscription.plan_type||"free",credits:t.subscription.credits||0,activeJobs:h.length||0,activeJobsLimit:t.active_jobs_limit||t.subscription?.active_jobs_limit||0,status:t.subscription.status,currentPeriodEnd:t.subscription.current_period_end,stripeSubscriptionId:t.subscription.stripe_subscription_id||null}:{tier:"free",credits:t.credits||0,activeJobs:h.length||0,activeJobsLimit:t.active_jobs_limit||0,status:t.status||"active",currentPeriodEnd:null,stripeSubscriptionId:null};console.log("âœ… Setting subscription state:",e.tier),C(e),console.log("âœ… Subscription state set:",e)}else console.log("â„¹ï¸ No active subscription found, setting free tier"),C({tier:"free",credits:0,activeJobs:0,activeJobsLimit:0,stripeSubscriptionId:null})}catch(e){console.error("âŒ Error loading subscription:",e),C({tier:"free",credits:0,activeJobs:0,stripeSubscriptionId:null})}},eJ=async()=>{try{ei(!0);let e=new URLSearchParams;Object.entries(es).forEach(([s,t])=>{t&&e.append(s,t)});let s=await fetch(`/api/resume-search?${e}`),t=await s.json();t.success?ee(t.profiles):alert("Error searching resumes: "+t.error)}catch(e){console.error("Error searching resumes:",e),alert("Error searching resumes")}finally{ei(!1)}},eA=async s=>{if(e?.id){if(ea<1)return void alert("Insufficient credits. Please purchase resume credits to view contact details.");if(!en.has(s))try{let t=await fetch("/api/unlock-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileId:s,userId:e.id})}),r=await t.json();r.success?(eo(e=>new Set([...e,s])),el(e=>e-1),alert("âœ… Contact details unlocked! 1 credit used.")):alert("Error unlocking profile: "+r.error)}catch(e){console.error("Error unlocking profile:",e),alert("Error unlocking profile")}}},e$=b.filter(e=>{let s=!eh||e.job_id===parseInt(eh)||e.job_id===eh,t=!eb||e.status===eb;return s&&t});b.length>0&&0===e$.length&&console.log("\uD83D\uDD0D Filter Debug:",{selectedJobFilter:eh,statusFilter:eb,totalApplications:b.length,filteredCount:e$.length,sampleApp:b[0]?{id:b[0].id,job_id:b[0].job_id,status:b[0].status}:null});let eL=async()=>{if(e?.id)try{let s=await fetch(`/api/subscription-status?userId=${e.id}`),t=await s.json();t.success&&t.subscription&&C({tier:t.subscription.plan_type||"free",credits:t.credits||0,activeJobs:h.length||0,activeJobsLimit:t.subscription?.active_jobs_limit||t.active_jobs_limit||0,status:t.subscription.status,currentPeriodEnd:t.subscription.current_period_end,stripeSubscriptionId:t.subscription.stripe_subscription_id||null})}catch(e){console.error("Error updating subscription:",e)}},eF=async()=>{if(e)try{console.log("\uD83D\uDCCA Loading jobs for employer:",e.id);let s=await fetch(`/api/jobs?userId=${e.id}`),t=await s.json();t.jobs?(g(t.jobs),console.log(`âœ… Loaded ${t.jobs.length} jobs`)):console.error("âŒ Failed to load jobs:",t.error)}catch(e){console.error("âŒ Error loading jobs:",e)}},eq=async()=>{if(e)try{console.log("\uD83D\uDCCA Loading applications for employer:",e.id);let s=await fetch(`/api/applications?employerId=${e.id}`),t=await s.json();t.success?(j(t.applications),console.log(`âœ… Loaded ${t.applications.length} applications`),console.log("\uD83D\uDCCA Application statuses:",t.applications.map(e=>({id:e.id,status:e.status,name:`${e.first_name} ${e.last_name}`}))),console.log("\uD83D\uDD0D Current filters:",{selectedJobFilter:eh,statusFilter:eb}),console.log("\uD83D\uDD04 Current statusFilter:",eb),""!==eb&&(console.log("\uD83D\uDD04 Resetting statusFilter from",eb,"to empty (show all)"),ej("")),""!==eh&&(console.log("\uD83D\uDD04 Resetting selectedJobFilter from",eh,"to empty (show all)"),eg(""))):console.error("âŒ Failed to load applications:",t.error)}catch(e){console.error("âŒ Error loading applications:",e)}},eO=async()=>{if(e)try{let s=await fetch(`/api/profile?userId=${e.id}`);if(s.ok){let t=await s.json();t.profile?N({companyName:t.profile.company_name||"",contactEmail:t.profile.email||e.email,contactPhone:t.profile.phone||"",location:t.profile.location||"",website:t.profile.website||"",description:t.profile.description||""}):N({companyName:"",contactEmail:e.email,contactPhone:"",location:"",website:"",description:""})}}catch(e){console.error("Error loading profile:",e)}},eM=async s=>{if(s.preventDefault(),e?.id){if("free"===w.tier&&0===w.credits&&0===w.activeJobsLimit){c("billing"),q(!1),alert("You need to purchase a subscription or single job posting to post jobs. Redirecting to billing...");return}try{let s=K?"PUT":"POST",t=K?"/api/jobs/edit":"/api/jobs",r=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(K?{jobId:K.id,jobData:ed,userId:e.id}:{...ed,userId:e.id})});if(r.ok)await eF(),q(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""}),alert(K?"Job updated successfully!":"Job posted successfully!");else{let e=await r.json();alert("Error: "+e.error)}}catch(e){console.error("Error submitting job:",e),alert("Error submitting job")}}},eB=async(s,t)=>{if(e?.id){console.log("\uD83D\uDD04 Updating application status:",{applicationId:s,newStatus:t,userId:e.id});try{let r=await fetch("/api/applications",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:s,status:t,userId:e.id})});if(console.log("\uD83D\uDCE1 Response status:",r.status,r.statusText),r.ok){let e=await r.json();console.log("âœ… Update successful:",e);try{await fetch("/api/send-status-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:s,newStatus:t})}),console.log("\uD83D\uDCE7 Status update email sent")}catch(e){console.error("\uD83D\uDCE7 Status update email failed:",e)}await eq(),alert("Application status updated successfully!")}else{let e=await r.json();console.error("âŒ Update failed:",e),alert("Error: "+e.error)}}catch(e){console.error("âŒ Network error updating application:",e),alert("Error updating application status")}}},ez=e=>{Q(e),ec({title:e.title||"",company:e.company||"",description:e.description||"",requirements:e.requirements||"",region:e.region||"",hourlyRate:e.hourly_rate||"",duration:e.duration||"",startDate:e.start_date||"",industry:e.industry||"",classification:e.classification||"",benefits:e.benefits||"",contactEmail:e.contact_email||"",contactPhone:e.contact_phone||""}),q(!0)},eY=async e=>{if(confirm("Are you sure you want to delete this job?"))try{let s=await fetch(`/api/jobs/${e}`,{method:"DELETE"});if(s.ok)await eF(),g(s=>s.filter(s=>s.id!==e)),alert("Job deleted successfully!");else{let e=await s.json();alert("Error: "+e.error)}}catch(e){console.error("Error deleting job:",e),alert("Error deleting job")}},eV=e=>{V(e),M(!0)},eG=e=>e?new Date(e).toLocaleDateString():"Never",eH=e=>!!e&&new Date(e)<new Date;return s&&!e||e&&x?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-4",children:"â³"}),(0,r.jsx)("div",{children:"Loading your dashboard..."}),(0,r.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:s&&!e?"Authenticating...":"Loading dashboard data..."}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:["Auth: ",s?"loading":"done"," | User: ",e?"found":"none"," | Dashboard: ",x?"loading":"done"]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 mb-6 shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Employer Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Welcome back! Manage your job postings and applications."}),(0,r.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Current Plan: ",w.tier," | Credits: ",w.credits," | Jobs Limit: ",w.activeJobsLimit]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\uD83D\uDCE7 Contact: ",(0,r.jsx)("a",{href:"mailto:Employers@field-jobs.co",className:"text-blue-600 hover:text-blue-800 underline",children:"Employers@field-jobs.co"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[S&&!_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>D(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2 shadow-lg",children:"\uD83C\uDF81 First Job Free"}),(0,r.jsx)("button",{onClick:()=>{if("free"===w.tier&&0===w.credits&&0===w.activeJobsLimit){c("billing"),alert("You need to purchase a subscription or single job posting to post jobs. Redirecting to billing...");return}q(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:"Post Job"})]}):(0,r.jsx)("button",{onClick:()=>{if("free"===w.tier&&0===w.credits){c("billing"),alert("You need to purchase a subscription or single job posting to post jobs. Redirecting to billing...");return}q(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:"Post New Job"}),(0,r.jsx)(o(),{href:"/",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium",children:"View Site"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:h.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-500",children:"enterprise"===w.tier?"âˆž":`${Math.max(0,(w.activeJobsLimit||0)-h.length)}`}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Jobs Left"}),"enterprise"!==w.tier&&0===w.activeJobsLimit&&(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Upgrade for more"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:b.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Applications"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:"enterprise"===w.tier?"âˆž":ea}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Resume Credits"})]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-4 mb-6 shadow",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"overview",label:"Overview",icon:"\uD83D\uDCCA"},{id:"jobs",label:"Job Postings",icon:"\uD83D\uDCBC"},{id:"applications",label:"Applications",icon:"\uD83D\uDCE7",badge:b.length},{id:"resume-search",label:"Resume Search",icon:"\uD83D\uDD0D"},{id:"analytics",label:"Analytics",icon:"\uD83D\uDCC8"},{id:"billing",label:"Products & Billing",icon:"\uD83D\uDED2"},{id:"profile",label:"Profile",icon:"\uD83D\uDC64"}].map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${n===e.id?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.icon," ",e.label,e.badge&&e.badge>0&&(0,r.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:e.badge})]},e.id))})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow",children:["overview"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Dashboard Overview"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Recent Job Postings"}),h.slice(0,3).map(e=>(0,r.jsx)("div",{className:"border border-gray-200 p-4 mb-2 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"text-gray-600 text-sm",children:[e.company," â€¢ ",e.region]}),(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Posted: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex gap-1",children:[e.is_free_job&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"\uD83C\uDF81 FREE"}),(e.is_featured||e.isFeatured)&&!eH(e.featured_until||e.featuredUntil)&&(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"â­ Featured"}),(e.is_urgent||e.isUrgent)&&!eH(e.urgent_until||e.urgentUntil)&&(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"\uD83D\uDEA8 Urgent"})]})]})},e.id)),0===h.length&&(0,r.jsxs)("p",{className:"text-gray-500 italic",children:["No jobs posted yet. ",(0,r.jsx)("button",{onClick:()=>q(!0),className:"text-orange-500",children:"Post your first job"}),"!"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Recent Applications"}),b.slice(0,3).map(e=>(0,r.jsx)("div",{className:"border border-gray-200 p-4 mb-2 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"font-semibold",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:e.jobs?.title}),(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Applied: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${"submitted"===e.status?"bg-blue-100 text-blue-800":"shortlisted"===e.status?"bg-green-100 text-green-800":"interviewed"===e.status?"bg-purple-100 text-purple-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status||"submitted"})]})},e.id)),0===b.length&&(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No applications yet. Applications will appear here when candidates apply to your jobs."})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[S&&!_&&(0,r.jsx)("button",{onClick:()=>D(!0),className:"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg",children:"\uD83C\uDF81 Post Free Job"}),(0,r.jsx)("button",{onClick:()=>{if("free"===w.tier&&0===w.credits&&0===w.activeJobsLimit){c("billing"),alert("You need to purchase a subscription or single job posting to post jobs. Redirecting to billing...");return}q(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:"Post New Job"}),(0,r.jsx)("button",{onClick:()=>c("applications"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Review Applications"}),(0,r.jsx)("button",{onClick:()=>c("analytics"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg",children:"View Analytics"})]})]})]}),"jobs"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Job Postings (",h.length,")"]}),(0,r.jsx)("button",{onClick:()=>{if("free"===w.tier&&0===w.credits){c("billing"),alert("You need to purchase a subscription or single job posting to post jobs. Redirecting to billing...");return}q(!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:"Post New Job"})]}),0===h.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCBC"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No jobs posted yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Start by posting your first job to attract candidates"}),(0,r.jsx)("button",{onClick:()=>q(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg",children:"Post Your First Job"})]}):(0,r.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,r.jsxs)("div",{className:"flex gap-1",children:[e.is_free_job&&(0,r.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"\uD83C\uDF81 FREE"}),(e.is_featured||e.isFeatured)&&!eH(e.featured_until||e.featuredUntil)&&(0,r.jsx)("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:"â­ Featured"}),(e.is_urgent||e.isUrgent)&&!eH(e.urgent_until||e.urgentUntil)&&(0,r.jsx)("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:"\uD83D\uDEA8 Urgent"})]})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-1",children:[e.company," â€¢ ",e.region]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Posted: ",eG(e.created_at)]}),(0,r.jsx)("p",{className:"text-gray-700 mt-2 line-clamp-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>ez(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>eY(e.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Delete"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(e.is_featured||e.isFeatured)&&!eH(e.featured_until||e.featuredUntil)?(0,r.jsx)("span",{className:"text-yellow-600 text-sm flex items-center gap-1 opacity-60",children:"â­ Featured Active"}):(0,r.jsx)("button",{onClick:()=>eR(e,"featured"),className:"text-yellow-600 hover:text-yellow-700 text-sm flex items-center gap-1",children:"â­ Feature Job"}),(e.is_urgent||e.isUrgent)&&!eH(e.urgent_until||e.urgentUntil)?(0,r.jsx)("span",{className:"text-red-600 text-sm flex items-center gap-1 opacity-60",children:"\uD83D\uDEA8 Urgent Active"}):(0,r.jsx)("button",{onClick:()=>eR(e,"urgent"),className:"text-red-600 hover:text-red-700 text-sm flex items-center gap-1",children:"\uD83D\uDEA8 Mark Urgent"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[b.filter(s=>s.job_id===e.id).length," applications"]})]})]},e.id))})]}),"applications"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold",children:["Applications (",b.length,")"]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("button",{onClick:()=>p(!m),className:`px-3 py-1 rounded text-sm ${m?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:["Auto-refresh ",m?"ON":"OFF"]})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Filter by Job"}),(0,r.jsxs)("select",{value:eh,onChange:e=>eg(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"All Jobs"}),h.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.title," - ",e.company]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Filter by Status"}),(0,r.jsxs)("select",{value:eb,onChange:e=>ej(e.target.value),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"submitted",children:"Submitted"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(eh||eb)&&(0,r.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",e$.length," of ",b.length," applications"]}),(0,r.jsx)("button",{onClick:()=>{eg(""),ej(""),console.log("\uD83D\uDD04 Filters reset to show all applications")},className:"text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded",children:"Clear Filters"})]})]}),0===e$.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCE7"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No applications yet"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Applications will appear here when candidates apply to your jobs"})]}):(0,r.jsx)("div",{className:"space-y-4",children:e$.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${"submitted"===e.status?"bg-blue-100 text-blue-800":"shortlisted"===e.status?"bg-green-100 text-green-800":"interviewed"===e.status?"bg-purple-100 text-purple-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status||"new"})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-1",children:["Applied for: ",e.jobs?.title]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Email: ",e.email," â€¢ Phone: ",e.phone]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Applied: ",eG(e.applied_at)]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)("button",{onClick:()=>eV(e),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"View Details"}),e.resume_url&&(0,r.jsx)("button",{onClick:()=>{window.open(e.resume_url,"_blank","noopener,noreferrer")},className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm inline-block text-center",children:"\uD83D\uDCC4 View Resume"}),(0,r.jsxs)("select",{value:e.status||"submitted",onChange:s=>eB(e.id,s.target.value),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[(0,r.jsx)("option",{value:"submitted",children:"Submitted"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]})},e.id))})]}),"resume-search"===n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Resume Search"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Credits: ",ea," â€¢ Each contact unlock uses 1 credit"]}),(0,r.jsx)("button",{onClick:()=>c("billing"),className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm font-medium",children:"Buy Credits"})]})]}),ea<5&&(0,r.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"text-2xl",children:"\uD83D\uDCB3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-800",children:"Need More Resume Credits?"}),(0,r.jsx)("p",{className:"text-orange-700",children:"Purchase resume credits to unlock candidate contact information"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"10 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$39"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$3.90 per credit"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_10"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]}),(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center relative",children:[(0,r.jsx)("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Most Popular"}),(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"25 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$79"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$3.16 per credit"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_25"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]}),(0,r.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-orange-600 mb-1",children:"50 Credits"}),(0,r.jsx)("div",{className:"text-2xl font-bold mb-2",children:"$129"}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mb-3",children:"$2.58 per credit"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_50"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium",children:"Purchase"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Search Filters"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Keywords"}),(0,r.jsx)("input",{type:"text",value:es.keywords,onChange:e=>et(s=>({...s,keywords:e.target.value})),placeholder:"Skills, job titles, etc.",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Location"}),(0,r.jsx)("input",{type:"text",value:es.location,onChange:e=>et(s=>({...s,location:e.target.value})),placeholder:"City, state, remote",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Classification"}),(0,r.jsxs)("select",{value:es.classification,onChange:e=>et(s=>({...s,classification:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Any Classification"}),(0,r.jsx)("option",{value:"Staff",children:"Staff"}),(0,r.jsx)("option",{value:"Freelance",children:"Freelance"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("button",{onClick:eJ,disabled:er,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg disabled:opacity-50",children:er?"Searching...":"Search Resumes"}),(0,r.jsx)("button",{onClick:()=>et({keywords:"",location:"",classification:"",specialization:"",minExperience:"",maxExperience:"",industries:"",clearance:"",availableBy:"",minRate:"",maxRate:""}),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg",children:"Clear Filters"})]})]}),(0,r.jsx)("div",{children:0===Z.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD0D"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No search results"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Use the filters above to search for candidates"})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["Search Results (",Z.length,")"]}),Z.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-1",children:en.has(e.id)?`${e.first_name} ${e.last_name}`:`${e.first_name} ${e.last_name?.[0]}***`}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:e.title||"Professional"}),(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:e.summary}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:e.skills?.split(",").slice(0,5).map((e,s)=>(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:e.trim()},s))}),en.has(e.id)&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsxs)("p",{children:["Email: ",e.email]}),(0,r.jsxs)("p",{children:["Phone: ",e.phone]})]})]}),(0,r.jsx)("div",{className:"ml-4",children:en.has(e.id)?(0,r.jsx)("div",{className:"text-green-600 font-medium",children:"Contact Unlocked"}):(0,r.jsx)("button",{onClick:()=>eA(e.id),disabled:ea<1,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Unlock Contact (1 credit)"})})]})},e.id))]})})]}),"analytics"===n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Analytics & Insights"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:y.totalViews||0}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Job Views"})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:b.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Total Applications"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[b.length>0&&y.totalViews>0?Math.round(b.length/y.totalViews*100):b.length>0?"N/A":0,"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Application Rate"})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:h.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Job Performance"}),0===h.length?(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No job data available"}):(0,r.jsx)("div",{className:"space-y-3",children:h.map(e=>{let s=b.filter(s=>s.job_id===e.id);return(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:e.company})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:s.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Applications"})]})]})},e.id)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,r.jsxs)("div",{className:"space-y-2",children:[b.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[e.first_name," ",e.last_name]}),(0,r.jsx)("span",{className:"text-gray-600",children:" applied to "}),(0,r.jsx)("span",{className:"font-medium",children:e.jobs?.title})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:eG(e.applied_at)})]},e.id)),0===b.length&&(0,r.jsx)("p",{className:"text-gray-500 italic",children:"No recent activity"})]})]})]}),"billing"===n&&(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(d,{user:e,subscription:{plan_type:w.tier,credits:w.credits,active_jobs_limit:w.activeJobsLimit,status:w.status,current_period_end:w.currentPeriodEnd,stripe_subscription_id:w.stripeSubscriptionId,price:w.price||0},onSubscriptionUpdate:eL}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Plans & Pricing"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"border border-orange-200 rounded-lg p-6 bg-orange-50",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Single Job Post"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-orange-500 my-2",children:"$199"}),(0,r.jsx)("div",{className:"text-gray-600 text-sm",children:"one-time payment"})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… 1 job posting"}),(0,r.jsx)("li",{children:"âœ… 60-day duration"}),(0,r.jsx)("li",{children:"âœ… Full applicant access"}),(0,r.jsx)("li",{children:"âœ… Email support"})]}),(0,r.jsx)("button",{onClick:eD,disabled:x,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium disabled:opacity-50",children:x?"Processing...":"Purchase Now"})]}),(0,r.jsxs)("div",{className:"border border-purple-300 rounded-lg p-6 bg-purple-50 relative",children:[(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,r.jsx)("span",{className:"bg-purple-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"BEST VALUE"})}),(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Enterprise"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600 my-2",children:"$167"}),(0,r.jsxs)("div",{className:"text-gray-600 text-xs",children:["per month",(0,r.jsx)("br",{}),"billed annually at $1,999"]})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… Unlimited job postings"}),(0,r.jsx)("li",{children:"âœ… Unlimited resume credits"}),(0,r.jsx)("li",{children:"âœ… Priority support"}),(0,r.jsx)("li",{children:"âœ… Advanced analytics"})]}),eP("enterprise",process.env.NEXT_PUBLIC_STRIPE_ENTERPRISE_PRICE_ID||"")]}),(0,r.jsxs)("div",{className:"border border-indigo-200 rounded-lg p-6 bg-indigo-50",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Unlimited"}),(0,r.jsx)("div",{className:"text-3xl font-bold text-indigo-600 my-2",children:"$292"}),(0,r.jsxs)("div",{className:"text-gray-600 text-xs",children:["per month",(0,r.jsx)("br",{}),"billed annually at $3,499"]})]}),(0,r.jsxs)("ul",{className:"space-y-2 mb-6 text-sm",children:[(0,r.jsx)("li",{children:"âœ… Everything in Enterprise"}),(0,r.jsx)("li",{children:"âœ… Dedicated account manager"}),(0,r.jsx)("li",{children:"âœ… Custom integrations"}),(0,r.jsx)("li",{children:"âœ… Priority feature requests"})]}),eP("unlimited",process.env.NEXT_PUBLIC_STRIPE_UNLIMITED_PRICE_ID||"")]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Premium Add-Ons"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 10 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$39"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"10 credits for candidate contact"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_10"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 10 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 25 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$79"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"25 credits - Best Value"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_25"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 25 Credits"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resume Credits - 50 Pack"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$129"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"50 credits for high volume"}),(0,r.jsx)("button",{onClick:()=>eI("resume_credits_50"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded",disabled:x,children:x?"Processing...":"Buy 50 Credits"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Featured Listing"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$29"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Top of search results with bright highlight badge"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded",children:"â­ Manage Featured Jobs"})]}),(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Urgent Badge"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-500 mb-2",children:"$19"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:'Bright "URGENT" badge for immediate attention'}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply to individual jobs in the Job Postings tab"}),(0,r.jsx)("button",{onClick:()=>c("jobs"),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded",children:"\uD83D\uDEA8 Manage Urgent Jobs"})]})]})]})]}),"profile"===n&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Profile Settings"}),ex?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>eu(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg",children:"Cancel"}),(0,r.jsx)("button",{onClick:async()=>{try{if(u(!0),!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e?.id,company:em.company,phone:em.phone,website:em.website,address:em.address,city:em.city,state:em.state,zip_code:em.zipCode})})).ok)throw Error("Failed to update profile");alert("âœ… Profile updated successfully!"),eu(!1),await eO()}catch(e){console.error("Error updating profile:",e),alert("âŒ Failed to update profile")}finally{u(!1)}},disabled:x,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:x?"Saving...":"\uD83D\uDCBE Save Changes"})]}):(0,r.jsx)("button",{onClick:()=>{eu(!0),ep({company:v.company||"",phone:v.phone||"",email:e?.email||"",website:v.website||"",address:v.address||"",city:v.city||"",state:v.state||"",zipCode:v.zip_code||""})},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg",children:"âœï¸ Edit Profile"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),ex?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Company Name *"}),(0,r.jsx)("input",{type:"text",value:em.company,onChange:e=>ep(s=>({...s,company:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),(0,r.jsx)("input",{type:"tel",value:em.phone,onChange:e=>ep(s=>({...s,phone:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",placeholder:"(555) 123-4567"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",value:em.email,disabled:!0,className:"w-full p-2 border border-gray-300 rounded bg-gray-100 cursor-not-allowed"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Website"}),(0,r.jsx)("input",{type:"url",value:em.website,onChange:e=>ep(s=>({...s,website:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",placeholder:"https://www.example.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,r.jsx)("input",{type:"text",value:em.address,onChange:e=>ep(s=>({...s,address:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",placeholder:"123 Main St"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"City"}),(0,r.jsx)("input",{type:"text",value:em.city,onChange:e=>ep(s=>({...s,city:e.target.value})),className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"State"}),(0,r.jsx)("input",{type:"text",value:em.state,onChange:e=>ep(s=>({...s,state:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",placeholder:"TX"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Zip Code"}),(0,r.jsx)("input",{type:"text",value:em.zipCode,onChange:e=>ep(s=>({...s,zipCode:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",placeholder:"12345"})]})]})]}):(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Company Name"}),(0,r.jsx)("p",{className:"font-medium",children:v.company||"Not set"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,r.jsx)("p",{className:"font-medium",children:v.phone||"Not set"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,r.jsx)("p",{className:"font-medium",children:e?.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Website"}),(0,r.jsx)("p",{className:"font-medium",children:v.website||"Not set"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,r.jsx)("p",{className:"font-medium",children:v.address||v.city||v.state||v.zip_code?`${v.address||""} ${v.city||""}, ${v.state||""} ${v.zip_code||""}`.trim():"Not set"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Account Information"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Account Type"}),(0,r.jsx)("p",{className:"font-medium capitalize",children:v.account_type||"Employer"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,r.jsx)("p",{className:"font-medium",children:v.created_at?new Date(v.created_at).toLocaleDateString():"N/A"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Current Plan"}),(0,r.jsx)("p",{className:"font-medium capitalize",children:w.tier||"Free"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Resume Credits"}),(0,r.jsx)("p",{className:"font-medium",children:ea})]})]})]})]})]})]}),F&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white text-gray-900 rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:K?"Edit Job":"Post New Job"}),(0,r.jsx)("button",{onClick:()=>{q(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})},className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("form",{onSubmit:eM,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Job Title *"}),(0,r.jsx)("input",{type:"text",value:ed.title,onChange:e=>ec(s=>({...s,title:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Company *"}),(0,r.jsx)("input",{type:"text",value:ed.company,onChange:e=>ec(s=>({...s,company:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,r.jsx)("textarea",{value:ed.description,onChange:e=>ec(s=>({...s,description:e.target.value})),required:!0,rows:4,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Requirements"}),(0,r.jsx)("textarea",{value:ed.requirements,onChange:e=>ec(s=>({...s,requirements:e.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Region *"}),(0,r.jsxs)("select",{value:ed.region,onChange:e=>ec(s=>({...s,region:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Region"}),(0,r.jsx)("option",{value:"northeast",children:"Northeast US"}),(0,r.jsx)("option",{value:"southeast",children:"Southeast US"}),(0,r.jsx)("option",{value:"midwest",children:"Midwest US"}),(0,r.jsx)("option",{value:"southwest",children:"Southwest US"}),(0,r.jsx)("option",{value:"west",children:"West US"}),(0,r.jsx)("option",{value:"canada",children:"Canada"}),(0,r.jsx)("option",{value:"mexico",children:"Mexico"}),(0,r.jsx)("option",{value:"nationwide",children:"US Nationwide"}),(0,r.jsx)("option",{value:"international",children:"International"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hourly Rate *"}),(0,r.jsx)("input",{type:"text",value:ed.hourlyRate,onChange:e=>ec(s=>({...s,hourlyRate:e.target.value})),placeholder:"$50-75/hr",required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duration *"}),(0,r.jsxs)("select",{value:ed.duration,onChange:e=>ec(s=>({...s,duration:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Duration"}),(0,r.jsx)("option",{value:"0-6 months",children:"0-6 months"}),(0,r.jsx)("option",{value:"6-12 months",children:"6-12 months"}),(0,r.jsx)("option",{value:"12-18 months",children:"12-18 months"}),(0,r.jsx)("option",{value:"18+ months",children:"18+ months"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:ed.startDate,onChange:e=>ec(s=>({...s,startDate:e.target.value})),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Industry *"}),(0,r.jsxs)("select",{value:ed.industry,onChange:e=>ec(s=>({...s,industry:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Industry"}),(0,r.jsx)("option",{value:"nuclear",children:"Nuclear Power"}),(0,r.jsx)("option",{value:"power-generation",children:"Power Gen (Fossil)"}),(0,r.jsx)("option",{value:"ogc",children:"OG&C"}),(0,r.jsx)("option",{value:"offshore",children:"Offshore"}),(0,r.jsx)("option",{value:"renewable",children:"Renewable"}),(0,r.jsx)("option",{value:"construction",children:"Construction"}),(0,r.jsx)("option",{value:"aerospace",children:"Aerospace"}),(0,r.jsx)("option",{value:"defense",children:"Defense"}),(0,r.jsx)("option",{value:"electric-td",children:"Electric T&D"}),(0,r.jsx)("option",{value:"pulp-paper",children:"Pulp & Paper"}),(0,r.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,r.jsx)("option",{value:"mining",children:"Mining"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Experience Level *"}),(0,r.jsxs)("select",{value:ed.classification,onChange:e=>ec(s=>({...s,classification:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Experience Level"}),(0,r.jsx)("option",{value:"0-5",children:"0-5 years"}),(0,r.jsx)("option",{value:"5-10",children:"5-10 years"}),(0,r.jsx)("option",{value:"10-15",children:"10-15 years"}),(0,r.jsx)("option",{value:"15-20",children:"15-20 years"}),(0,r.jsx)("option",{value:"20+",children:"20+ years"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Benefits"}),(0,r.jsx)("textarea",{value:ed.benefits,onChange:e=>ec(s=>({...s,benefits:e.target.value})),rows:2,placeholder:"Health insurance, 401k, paid time off, etc.",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{q(!1),Q(null),ec({title:"",company:"",description:"",requirements:"",region:"",hourlyRate:"",duration:"",startDate:"",industry:"",classification:"",benefits:"",contactEmail:"",contactPhone:""})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:K?"Update Job":"Post Job"})]})]})]})}),E&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white text-gray-900 rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-green-600",children:"Post Your First Job Free! \uD83C\uDF81"}),(0,r.jsx)("button",{onClick:()=>D(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsx)("div",{className:"bg-green-50 p-4 rounded-lg mb-4",children:(0,r.jsx)("p",{className:"text-green-800",children:"\uD83C\uDF89 Congratulations! You're eligible for one free job posting. This is a limited-time offer for new employers."})}),(0,r.jsxs)("form",{onSubmit:ew,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Job Title *"}),(0,r.jsx)("input",{type:"text",value:ed.title,onChange:e=>ec(s=>({...s,title:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Company *"}),(0,r.jsx)("input",{type:"text",value:ed.company,onChange:e=>ec(s=>({...s,company:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description *"}),(0,r.jsx)("textarea",{value:ed.description,onChange:e=>ec(s=>({...s,description:e.target.value})),required:!0,rows:4,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Requirements"}),(0,r.jsx)("textarea",{value:ed.requirements,onChange:e=>ec(s=>({...s,requirements:e.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Region *"}),(0,r.jsxs)("select",{value:ed.region,onChange:e=>ec(s=>({...s,region:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Region"}),(0,r.jsx)("option",{value:"northeast",children:"Northeast US"}),(0,r.jsx)("option",{value:"southeast",children:"Southeast US"}),(0,r.jsx)("option",{value:"midwest",children:"Midwest US"}),(0,r.jsx)("option",{value:"southwest",children:"Southwest US"}),(0,r.jsx)("option",{value:"west",children:"West US"}),(0,r.jsx)("option",{value:"canada",children:"Canada"}),(0,r.jsx)("option",{value:"mexico",children:"Mexico"}),(0,r.jsx)("option",{value:"nationwide",children:"US Nationwide"}),(0,r.jsx)("option",{value:"international",children:"International"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hourly Rate *"}),(0,r.jsx)("input",{type:"text",value:ed.hourlyRate,onChange:e=>ec(s=>({...s,hourlyRate:e.target.value})),placeholder:"$50-75/hr",required:!0,className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duration *"}),(0,r.jsxs)("select",{value:ed.duration,onChange:e=>ec(s=>({...s,duration:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Duration"}),(0,r.jsx)("option",{value:"0-6 months",children:"0-6 months"}),(0,r.jsx)("option",{value:"6-12 months",children:"6-12 months"}),(0,r.jsx)("option",{value:"12-18 months",children:"12-18 months"}),(0,r.jsx)("option",{value:"18+ months",children:"18+ months"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),(0,r.jsx)("input",{type:"date",value:ed.startDate,onChange:e=>ec(s=>({...s,startDate:e.target.value})),className:"w-full p-2 border border-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Industry *"}),(0,r.jsxs)("select",{value:ed.industry,onChange:e=>ec(s=>({...s,industry:e.target.value})),required:!0,className:"w-full p-2 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"",children:"Select Industry"}),(0,r.jsx)("option",{value:"nuclear",children:"Nuclear Power"}),(0,r.jsx)("option",{value:"power-generation",children:"Power Gen (Fossil)"}),(0,r.jsx)("option",{value:"ogc",children:"OG&C"}),(0,r.jsx)("option",{value:"offshore",children:"Offshore"}),(0,r.jsx)("option",{value:"renewable",children:"Renewable"}),(0,r.jsx)("option",{value:"construction",children:"Construction"}),(0,r.jsx)("option",{value:"aerospace",children:"Aerospace"}),(0,r.jsx)("option",{value:"defense",children:"Defense"}),(0,r.jsx)("option",{value:"electric-td",children:"Electric T&D"}),(0,r.jsx)("option",{value:"pulp-paper",children:"Pulp & Paper"}),(0,r.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,r.jsx)("option",{value:"mining",children:"Mining"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Experience Level *"}),(0,r.jsxs)("select",{value:ed.classification,onChange:e=>ec(s=>({...s,classification:e.target.value})),className:"w-full p-2 border border-gray-300 rounded",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Experience Level"}),(0,r.jsx)("option",{value:"0-5",children:"0-5 years"}),(0,r.jsx)("option",{value:"5-10",children:"5-10 years"}),(0,r.jsx)("option",{value:"10-15",children:"10-15 years"}),(0,r.jsx)("option",{value:"15-20",children:"15-20 years"}),(0,r.jsx)("option",{value:"20+",children:"20+ years"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Benefits"}),(0,r.jsx)("textarea",{value:ed.benefits,onChange:e=>ec(s=>({...s,benefits:e.target.value})),rows:2,placeholder:"Health insurance, 401k, paid time off, etc.",className:"w-full p-2 border border-gray-300 rounded"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded hover:from-green-600 hover:to-blue-600 disabled:opacity-50",children:x?"Posting...":"Post Free Job \uD83C\uDF81"})]})]})]})}),O&&Y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Application Details"}),(0,r.jsx)("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",Y.first_name," ",Y.last_name]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",Y.email]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Phone:"})," ",Y.phone]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Applied for:"})," ",Y.jobs?.title]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Classification:"})," ",Y.classification||"Not specified"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Applied on:"})," ",eG(Y.applied_at)]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Resume:"})," ",Y.resume_url?(0,r.jsxs)("button",{onClick:()=>{window.open(Y.resume_url,"_blank","noopener,noreferrer")},className:"text-blue-600 hover:text-blue-800 underline font-medium",children:["\uD83D\uDCC4 ",Y.resume_filename||"View Resume"]}):(0,r.jsx)("span",{className:"text-gray-500 italic",children:"No resume uploaded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Status:"}),(0,r.jsxs)("select",{value:Y.status||"submitted",onChange:e=>{eB(Y.id,e.target.value),V(s=>({...s,status:e.target.value}))},className:"ml-2 px-2 py-1 border border-gray-300 rounded",children:[(0,r.jsx)("option",{value:"submitted",children:"Submitted"}),(0,r.jsx)("option",{value:"shortlisted",children:"Shortlisted"}),(0,r.jsx)("option",{value:"interviewed",children:"Interviewed"}),(0,r.jsx)("option",{value:"rejected",children:"Rejected"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end mt-6",children:(0,r.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Close"})})]})}),B&&G&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"featured"===W?"Feature Job":"Mark as Urgent"}),(0,r.jsx)("button",{onClick:()=>z(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:G.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:G.company})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"featured"===W?"â­ Featured Job Listing":"\uD83D\uDEA8 Urgent Job Badge"}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"featured"===W?"Your job will appear at the top of search results and get highlighted styling for 30 days.":'Your job will display an "URGENT" badge to attract immediate attention for 14 days.'}),(0,r.jsx)("div",{className:"text-lg font-bold",children:"featured"===W?"$29":"$19"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>z(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),(0,r.jsxs)("button",{onClick:()=>{eT(G.id,W),z(!1)},className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:["Purchase ","featured"===W?"$29":"$19"]})]})]})}),R&&J&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF89"}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Great News!"})]}),(0,r.jsx)("div",{className:"mb-4",children:"first_application"===J.prompt_type&&(0,r.jsx)("p",{className:"text-gray-700",children:"Congratulations! You just received your first application on your free job posting. Upgrade to a paid plan to unlock more job postings and advanced features."})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>eC("dismiss"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Maybe Later"}),(0,r.jsx)("button",{onClick:()=>eC("upgrade"),className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"View Plans"})]})]})})]})})}function x(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}),children:(0,r.jsx)(c,{})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},42193:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx","default")},49750:(e,s,t)=>{Promise.resolve().then(t.bind(t,28823))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},85617:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(65239),i=t(48088),a=t(88170),l=t.n(a),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["employer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,42193)),"/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32007)),"/Users/mattiebrooke/fieldjobs-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/mattiebrooke/fieldjobs-website/app/employer/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/employer/page",pathname:"/employer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86702:(e,s,t)=>{Promise.resolve().then(t.bind(t,42193))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4243,8605,4758],()=>t(85617));module.exports=r})();