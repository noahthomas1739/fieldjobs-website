(()=>{var e={};e.id=1652,e.ids=[1652],e.modules={935:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/mattiebrooke/fieldjobs-website/app/auth/account-type/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mattiebrooke/fieldjobs-website/app/auth/account-type/page.tsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7588:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5745),o=r(16189),n=r(43210);let a=()=>{let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0),i=(0,o.useRouter)(),l=(0,s.createClientComponentClient)();return(0,n.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:r}=await l.auth.getUser();console.log("Auth check - Full user object:",e),console.log("User metadata:",e?.user_metadata),t(e),a(!1)}catch(e){console.error("Auth error:",e),a(!1)}})();let{data:{subscription:e}}=l.auth.onAuthStateChange(async(e,r)=>{console.log("Auth state changed:",e),console.log("Session user metadata:",r?.user?.user_metadata),t(r?.user??null),a(!1),"SIGNED_OUT"===e&&i.push("/auth/login")});return()=>e.unsubscribe()},[i,l]),{user:e,loading:r,signInWithGoogle:async()=>{try{console.log("Starting Google sign in...");let{data:e,error:t}=await l.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/account-type`}});if(t)throw console.error("Google sign in error:",t),t;return console.log("Google sign in initiated:",e),{data:e,error:null}}catch(e){return console.error("Google sign in failed:",e),{data:null,error:e}}},signInWithEmail:async(e,t)=>{let{data:r,error:s}=await l.auth.signInWithPassword({email:e,password:t});return{data:r,error:s}},signOut:async()=>{await l.auth.signOut(),i.push("/auth/login")},updateUserMetadata:async e=>{try{let{data:r,error:s}=await l.auth.updateUser({data:e});if(s)throw s;let{data:{user:o}}=await l.auth.getUser();return t(o),{data:r,error:null}}catch(e){return console.error("Error updating user metadata:",e),{data:null,error:e}}}}}},7690:(e,t,r)=>{Promise.resolve().then(r.bind(r,9353))},9353:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(60687),o=r(7588),n=r(16189),a=r(43210),i=r(5745);function l(){let{user:e,loading:t}=(0,o.A)(),r=(0,n.useRouter)(),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),p=(0,i.createClientComponentClient)(),h=async e=>{c(!0);try{console.log("Setting account type to:",e);let{error:t}=await p.auth.updateUser({data:{account_type:e}});if(t){console.error("Error updating account type:",t),alert("Error setting account type. Please try again."),c(!1);return}console.log("Account type updated successfully!"),setTimeout(()=>{"employer"===e?r.push("/employer"):r.push("/dashboard")},500)}catch(e){console.error("Error:",e),alert("Something went wrong. Please try again."),c(!1)}};return t?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl mb-4",children:"⏳"}),(0,s.jsx)("div",{children:"Loading..."})]})}):!e||e.user_metadata?.account_type?null:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome to FieldJobs!"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Choose your account type:"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:()=>h("employer"),disabled:l,className:"w-full p-4 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Setting up...":"I'm an Employer"}),(0,s.jsx)("button",{onClick:()=>h("job_seeker"),disabled:l,className:"w-full p-4 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Setting up...":"I'm Looking for Work"})]}),(0,s.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["Signed in as: ",e.email]})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22124:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79167,23))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},47990:()=>{},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55800:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},58014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(37413),o=r(59258),n=r.n(o),a=r(36162);r(82704);let i={title:{default:"FieldJobs - Technical Careers in Energy, Construction & Industrial",template:"%s | FieldJobs"},description:"Find technical careers in energy, construction, nuclear, and industrial sectors. Connect skilled professionals with top employers in field-based technical roles.",keywords:["technical jobs","field jobs","energy careers","construction jobs","nuclear jobs","industrial careers","technical professionals","skilled trades","engineering jobs","field technician jobs"],authors:[{name:"FieldJobs"}],creator:"FieldJobs",publisher:"FieldJobs",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://field-jobs.co"),alternates:{canonical:"/"},openGraph:{type:"website",locale:"en_US",url:"https://field-jobs.co",title:"FieldJobs - Technical Careers in Energy, Construction & Industrial",description:"Find technical careers in energy, construction, nuclear, and industrial sectors. Connect skilled professionals with top employers.",siteName:"FieldJobs",images:[{url:"/og-image.jpg",width:1200,height:630,alt:"FieldJobs - Technical Career Platform"}]},twitter:{card:"summary_large_image",title:"FieldJobs - Technical Careers in Energy, Construction & Industrial",description:"Find technical careers in energy, construction, nuclear, and industrial sectors.",images:["/og-image.jpg"],creator:"@fieldjobs"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:"your-google-site-verification-code"}};function l({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsx)("head",{children:(0,s.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"FieldJobs",url:"https://field-jobs.co",description:"Technical career platform for energy, construction, and industrial professionals",potentialAction:{"@type":"SearchAction",target:"https://field-jobs.co/?q={search_term_string}","query-input":"required name=search_term_string"}})}})}),(0,s.jsxs)("body",{className:n().className,children:[(0,s.jsx)(a.default,{src:"https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID",strategy:"afterInteractive"}),(0,s.jsx)(a.default,{id:"google-analytics",strategy:"afterInteractive",children:`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'GA_MEASUREMENT_ID');
          `}),e]})]})}},58572:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,47429,23))},62197:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),o=r(48088),n=r(88170),a=r.n(n),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c={children:["",{children:["auth",{children:["account-type",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,935)),"/Users/mattiebrooke/fieldjobs-website/app/auth/account-type/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/mattiebrooke/fieldjobs-website/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/mattiebrooke/fieldjobs-website/app/auth/account-type/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/auth/account-type/page",pathname:"/auth/account-type",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},62424:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82704:()=>{},89538:(e,t,r)=>{Promise.resolve().then(r.bind(r,935))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,8775,1658,5745],()=>r(62197));module.exports=s})();